{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/app/liga-premium/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface UsuarioPremium {\r\n    nick: string;\r\n    avatar?: string;\r\n    puntos: number;\r\n    historiasCreadas: number;\r\n    preguntasAcertadas: number;\r\n    amigos: number;\r\n    medallas: number;\r\n}\r\n\r\nconst LigaPremiumPage: React.FC = () => {\r\n    const router = useRouter();\r\n    const [usuarioActual, setUsuarioActual] = useState<any>(null);\r\n    const [isPremium, setIsPremium] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [usuariosPremium, setUsuariosPremium] = useState<UsuarioPremium[]>([]);\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== \"undefined\") {\r\n            const userData = localStorage.getItem('currentUser') || localStorage.getItem('user');\r\n            if (userData) {\r\n                const user = JSON.parse(userData);\r\n                setUsuarioActual(user);\r\n\r\n                // Verificar si es premium\r\n                const premiumInfo = localStorage.getItem(`premium_${user.nick}`);\r\n                if (premiumInfo) {\r\n                    const premium = JSON.parse(premiumInfo);\r\n                    if (new Date(premium.expiracion) > new Date()) {\r\n                        setIsPremium(true);\r\n                        cargarLigaPremium();\r\n                    } else {\r\n                        alert('Tu suscripci√≥n Premium ha expirado. Renueva para acceder a la Liga Premium.');\r\n                        router.push('/premium-nuevo');\r\n                    }\r\n                } else {\r\n                    alert('Esta funci√≥n es exclusiva para usuarios Premium.');\r\n                    router.push('/premium-nuevo');\r\n                }\r\n            } else {\r\n                router.push('/');\r\n            }\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const cargarLigaPremium = () => {\r\n        if (typeof window === \"undefined\") return;\r\n\r\n        const usersStr = localStorage.getItem(\"users\");\r\n        if (!usersStr) return;\r\n\r\n        const users = JSON.parse(usersStr);\r\n        const premiumUsers: UsuarioPremium[] = [];\r\n\r\n        users.forEach((user: any) => {\r\n            const premiumInfo = localStorage.getItem(`premium_${user.nick}`);\r\n            if (premiumInfo) {\r\n                const premium = JSON.parse(premiumInfo);\r\n                if (new Date(premium.expiracion) > new Date()) {\r\n                    // Calcular puntos basados en actividades premium\r\n                    const puntos = calcularPuntosUsuario(user);\r\n                    premiumUsers.push({\r\n                        nick: user.nick,\r\n                        avatar: user.avatar,\r\n                        puntos: puntos,\r\n                        historiasCreadas: user.historiasCreadas || 0,\r\n                        preguntasAcertadas: user.preguntasAcertadas || 0,\r\n                        amigos: user.amigos?.length || 0,\r\n                        medallas: user.medallas?.length || 0\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n        // Ordenar por puntos descendente\r\n        premiumUsers.sort((a, b) => b.puntos - a.puntos);\r\n        setUsuariosPremium(premiumUsers);\r\n    };\r\n\r\n    const calcularPuntosUsuario = (user: any): number => {\r\n        let puntos = 0;\r\n\r\n        // Puntos por historias creadas (10 puntos cada una)\r\n        puntos += (user.historiasCreadas || 0) * 10;\r\n\r\n        // Puntos por preguntas acertadas (5 puntos cada una)\r\n        puntos += (user.preguntasAcertadas || 0) * 5;\r\n\r\n        // Puntos por amigos (20 puntos cada amigo)\r\n        puntos += (user.amigos?.length || 0) * 20;\r\n\r\n        // Puntos por medallas (50 puntos cada medalla)\r\n        puntos += (user.medallas?.length || 0) * 50;\r\n\r\n        // Puntos por participaci√≥n en competiciones premium\r\n        const competicionesPremium = localStorage.getItem(`competiciones_premium_${user.nick}`);\r\n        if (competicionesPremium) {\r\n            const comps = JSON.parse(competicionesPremium);\r\n            puntos += comps.puntuacionTotal || 0; // Puntuaci√≥n total de torneos\r\n        }\r\n\r\n        return puntos;\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 flex items-center justify-center\">\r\n                <div className=\"text-white text-xl\">Cargando Liga Premium...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!isPremium) {\r\n        return null; // Ya redirigi√≥\r\n    }\r\n\r\n    const posicionUsuario = usuariosPremium.findIndex(u => u.nick === usuarioActual.nick) + 1;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 p-8\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                {/* Header */}\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-4xl font-bold text-white mb-2\">üèÜ Liga Premium Exclusiva</h1>\r\n                    <p className=\"text-yellow-100 text-lg\">Compite con los mejores usuarios Premium</p>\r\n                </div>\r\n\r\n                {/* Tu posici√≥n */}\r\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8 text-center\">\r\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Tu Posici√≥n</h2>\r\n                    <div className=\"text-6xl font-bold text-yellow-300\">#{posicionUsuario}</div>\r\n                    <div className=\"text-yellow-100 mt-2\">\r\n                        {usuariosPremium.find(u => u.nick === usuarioActual.nick)?.puntos || 0} puntos\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tabla de clasificaci√≥n */}\r\n                <div className=\"bg-white rounded-lg shadow-xl overflow-hidden\">\r\n                    <div className=\"bg-gradient-to-r from-yellow-500 to-orange-500 p-4\">\r\n                        <h3 className=\"text-xl font-bold text-white text-center\">üèÖ Clasificaci√≥n Premium</h3>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full\">\r\n                            <thead className=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Posici√≥n</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Usuario</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Puntos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Historias</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Aciertos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Amigos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Medallas</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                {usuariosPremium.slice(0, 20).map((usuario, index) => (\r\n                                    <tr key={usuario.nick} className={usuario.nick === usuarioActual.nick ? 'bg-yellow-50' : ''}>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                            <div className=\"flex items-center\">\r\n                                                <div className={`text-lg font-bold ${index === 0 ? 'text-yellow-500' :\r\n                                                    index === 1 ? 'text-gray-400' :\r\n                                                        index === 2 ? 'text-orange-600' :\r\n                                                            'text-gray-600'\r\n                                                    }`}>\r\n                                                    #{index + 1}\r\n                                                </div>\r\n                                                {index < 3 && (\r\n                                                    <span className=\"ml-2\">\r\n                                                        {index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : 'ü•â'}\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                            <div className=\"flex items-center\">\r\n                                                <div className=\"flex-shrink-0 h-10 w-10\">\r\n                                                    <img\r\n                                                        className=\"h-10 w-10 rounded-full\"\r\n                                                        src={usuario.avatar || '/avatars/simple1.png'}\r\n                                                        alt={usuario.nick}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"ml-4\">\r\n                                                    <div className=\"text-sm font-medium text-gray-900\">\r\n                                                        {usuario.nick}\r\n                                                        {usuario.nick === usuarioActual.nick && (\r\n                                                            <span className=\"ml-2 text-yellow-500\">(T√∫)</span>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 font-bold\">\r\n                                            {usuario.puntos.toLocaleString()}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.historiasCreadas}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.preguntasAcertadas}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.amigos}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.medallas}\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* C√≥mo ganar puntos */}\r\n                <div className=\"mt-8 bg-white/10 backdrop-blur-sm rounded-lg p-6\">\r\n                    <h3 className=\"text-xl font-bold text-white mb-4\">üí° C√≥mo ganar puntos en la Liga Premium</h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-yellow-100\">\r\n                        <div>\r\n                            <strong>üìñ Historias creadas:</strong> 10 puntos cada una<br />\r\n                            <strong>‚úÖ Preguntas acertadas:</strong> 5 puntos cada una<br />\r\n                            <strong>üë• Amigos:</strong> 20 puntos cada amigo<br />\r\n                        </div>\r\n                        <div>\r\n                            <strong>üèÖ Medallas:</strong> 50 puntos cada medalla<br />\r\n                            <strong>üéØ Torneos Premium:</strong> Puntuaci√≥n total de torneos<br />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Bot√≥n volver */}\r\n                <div className=\"text-center mt-8\">\r\n                    <button\r\n                        onClick={() => router.push('/premium-nuevo')}\r\n                        className=\"bg-white text-yellow-600 px-8 py-3 rounded-lg font-bold hover:bg-yellow-50 transition-colors\"\r\n                    >\r\n                        ‚Üê Volver a Premium\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LigaPremiumPage;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}