{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/components/UserLink.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\ninterface UserLinkProps {\r\n    nick: string;\r\n    className?: string;\r\n}\r\n\r\nexport const UserLink: React.FC<UserLinkProps> = ({ nick, className }) => {\r\n    const [isPremium, setIsPremium] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const checkPremium = () => {\r\n            // Verificar si el usuario es Premium\r\n            if (typeof window !== \"undefined\" && nick) {\r\n                const premiumInfo = localStorage.getItem(`premium_${nick}`);\r\n                if (premiumInfo) {\r\n                    try {\r\n                        const premium = JSON.parse(premiumInfo);\r\n                        const isActive = new Date(premium.expiracion) > new Date();\r\n                        setIsPremium(isActive);\r\n                    } catch (error) {\r\n                        setIsPremium(false);\r\n                    }\r\n                } else {\r\n                    setIsPremium(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        // Verificar inicialmente\r\n        checkPremium();\r\n\r\n        // Escuchar cambios en localStorage\r\n        const handleStorageChange = (e: StorageEvent) => {\r\n            if (e.key?.startsWith('premium_') || e.key === null) {\r\n                checkPremium();\r\n            }\r\n        };\r\n\r\n        // Escuchar eventos personalizados de premium\r\n        const handlePremiumUpdate = (e: CustomEvent) => {\r\n            if (e.detail.nick === nick) {\r\n                checkPremium();\r\n            }\r\n        };\r\n\r\n        window.addEventListener('storage', handleStorageChange);\r\n        window.addEventListener('premiumUpdate', handlePremiumUpdate as EventListener);\r\n\r\n        return () => {\r\n            window.removeEventListener('storage', handleStorageChange);\r\n            window.removeEventListener('premiumUpdate', handlePremiumUpdate as EventListener);\r\n        };\r\n    }, [nick]);\r\n\r\n    const normalized = (nick || \"\").trim().toLowerCase();\r\n    if (!nick || normalized === \"anonimo\" || normalized === \"anÃ³nimo\") {\r\n        return <span className={className || \"text-gray-500\"}>{nick || \"(sin nick)\"}</span>;\r\n    }\r\n\r\n    return (\r\n        <a\r\n            href={`/perfil/${encodeURIComponent(nick)}`}\r\n            className={className || \"text-blue-600 underline hover:text-blue-800\"}\r\n            title={`Ver perfil de ${nick}${isPremium ? ' (Usuario Premium)' : ''}`}\r\n        >\r\n            {nick}\r\n            {isPremium && (\r\n                <span className=\"ml-1 inline-flex items-center\">\r\n                    <span\r\n                        className=\"bg-gradient-to-r from-sky-100 to-blue-100 text-amber-900 text-xs px-2 py-1 rounded-full font-bold shadow-md border border-sky-300\"\r\n                        title=\"Usuario Premium\"\r\n                    >\r\n                        ðŸ‘‘\r\n                    </span>\r\n                </span>\r\n            )}\r\n        </a>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;;;;AAOO,MAAM,WAAoC,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE;;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;8BAAC;YACN,MAAM;mDAAe;oBACjB,qCAAqC;oBACrC,IAAI,+CAAkB,eAAe,MAAM;wBACvC,MAAM,cAAc,aAAa,OAAO,CAAC,CAAC,QAAQ,EAAE,MAAM;wBAC1D,IAAI,aAAa;4BACb,IAAI;gCACA,MAAM,UAAU,KAAK,KAAK,CAAC;gCAC3B,MAAM,WAAW,IAAI,KAAK,QAAQ,UAAU,IAAI,IAAI;gCACpD,aAAa;4BACjB,EAAE,OAAO,OAAO;gCACZ,aAAa;4BACjB;wBACJ,OAAO;4BACH,aAAa;wBACjB;oBACJ;gBACJ;;YAEA,yBAAyB;YACzB;YAEA,mCAAmC;YACnC,MAAM;0DAAsB,CAAC;oBACzB,IAAI,EAAE,GAAG,EAAE,WAAW,eAAe,EAAE,GAAG,KAAK,MAAM;wBACjD;oBACJ;gBACJ;;YAEA,6CAA6C;YAC7C,MAAM;0DAAsB,CAAC;oBACzB,IAAI,EAAE,MAAM,CAAC,IAAI,KAAK,MAAM;wBACxB;oBACJ;gBACJ;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC,OAAO,gBAAgB,CAAC,iBAAiB;YAEzC;sCAAO;oBACH,OAAO,mBAAmB,CAAC,WAAW;oBACtC,OAAO,mBAAmB,CAAC,iBAAiB;gBAChD;;QACJ;6BAAG;QAAC;KAAK;IAET,MAAM,aAAa,CAAC,QAAQ,EAAE,EAAE,IAAI,GAAG,WAAW;IAClD,IAAI,CAAC,QAAQ,eAAe,aAAa,eAAe,WAAW;QAC/D,qBAAO,6LAAC;YAAK,WAAW,aAAa;sBAAkB,QAAQ;;;;;;IACnE;IAEA,qBACI,6LAAC;QACG,MAAM,CAAC,QAAQ,EAAE,mBAAmB,OAAO;QAC3C,WAAW,aAAa;QACxB,OAAO,CAAC,cAAc,EAAE,OAAO,YAAY,uBAAuB,IAAI;;YAErE;YACA,2BACG,6LAAC;gBAAK,WAAU;0BACZ,cAAA,6LAAC;oBACG,WAAU;oBACV,OAAM;8BACT;;;;;;;;;;;;;;;;;AAOrB;GAxEa;KAAA","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/utils/renderNick.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { UserLink } from \"@/components/UserLink\";\r\n\r\nexport function renderNick(nick: string, className?: string) {\r\n    return <UserLink nick={nick} className={className} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAEO,SAAS,WAAW,IAAY,EAAE,SAAkB;IACvD,qBAAO,6LAAC,6IAAQ;QAAC,MAAM;QAAM,WAAW;;;;;;AAC5C","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/app/concursos/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { renderNick } from \"@/utils/renderNick\";\r\nimport { useTranslation } from \"@/utils/i18n\";\r\n\r\nexport default function Concursos() {\r\n    const [concursos, setConcursos] = useState<any[]>([]);\r\n\r\n    const { t } = useTranslation();\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== \"undefined\") {\r\n            const concursosStr = localStorage.getItem(\"concursos\");\r\n            setConcursos(concursosStr ? JSON.parse(concursosStr) : []);\r\n        }\r\n    }, []);\r\n\r\n    const hoy = new Date();\r\n    const activos = concursos.filter(c => new Date(c.fin) >= hoy).slice(0, 10);\r\n    const finalizados = concursos.filter(c => new Date(c.fin) < hoy).slice(0, 10);\r\n\r\n    const mostrarActivos = activos.length > 0\r\n        ? activos\r\n        : Array.from({ length: 10 }, (_, idx) => ({\r\n            titulo: t('aunNoHayConcursoActivo'),\r\n            autor: '',\r\n            inicio: '',\r\n            fin: '',\r\n        }));\r\n    const mostrarFinalizados = finalizados.length > 0\r\n        ? finalizados\r\n        : Array.from({ length: 10 }, (_, idx) => ({\r\n            titulo: t('aunNoHayConcursoFinalizado'),\r\n            autor: '',\r\n            inicio: '',\r\n            fin: '',\r\n        }));\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-green-100 p-8\">\r\n            <h1 className=\"text-2xl font-bold mb-4 text-center\">{t('concursosTitle')}</h1>\r\n            <div className=\"flex w-full max-w-5xl mx-auto gap-8\">\r\n                {/* Bloque Concursos Activos */}\r\n                <div className=\"flex-1 bg-white rounded-lg shadow-md p-6\">\r\n                    <h2 className=\"text-xl font-bold text-center mb-4\">{t('concursosActivos')}</h2>\r\n                    <ul className=\"divide-y\">\r\n                        {mostrarActivos.map((concurso, idx) => (\r\n                            <li key={idx} className=\"py-2\">\r\n                                <span className=\"font-bold\">{idx + 1}Âº </span>\r\n                                <a href={`/concurso/${concurso.numero}`} className=\"text-blue-700 font-semibold underline\" target=\"_blank\" rel=\"noopener noreferrer\">{concurso.titulo}</a>\r\n                                {concurso.autor && (\r\n                                    <span className=\"ml-2 text-gray-700\">{renderNick(concurso.autor)}</span>\r\n                                )}\r\n                                {concurso.inicio && (\r\n                                    <span className=\"ml-2 text-gray-500 text-sm\">Inicio: {concurso.inicio}</span>\r\n                                )}\r\n                                {concurso.fin && (\r\n                                    <span className=\"ml-2 text-gray-500 text-sm\">Final: {concurso.fin}</span>\r\n                                )}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n                {/* Bloque Concursos Finalizados */}\r\n                <div className=\"flex-1 bg-white rounded-lg shadow-md p-6\">\r\n                    <h2 className=\"text-xl font-bold text-center mb-4\">Concursos Finalizados</h2>\r\n                    <ul className=\"divide-y\">\r\n                        {mostrarFinalizados.map((concurso, idx) => (\r\n                            <li key={idx} className=\"py-2\">\r\n                                <span className=\"font-bold\">{idx + 1}Âº </span>\r\n                                <a href={`/concurso/${concurso.numero}`} className=\"text-blue-700 font-semibold underline\" target=\"_blank\" rel=\"noopener noreferrer\">{concurso.titulo}</a>\r\n                                {concurso.autor && (\r\n                                    <span className=\"ml-2 text-gray-700\">{renderNick(concurso.autor)}</span>\r\n                                )}\r\n                                {concurso.inicio && (\r\n                                    <span className=\"ml-2 text-gray-500 text-sm\">Inicio: {concurso.inicio}</span>\r\n                                )}\r\n                                {concurso.fin && (\r\n                                    <span className=\"ml-2 text-gray-500 text-sm\">Final: {concurso.fin}</span>\r\n                                )}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            {/* Bloque Ãšltimos Ganadores de Concursos */}\r\n            <div className=\"max-w-3xl mx-auto mt-10 bg-white rounded-lg shadow-md p-6\">\r\n                <h2 className=\"text-xl font-bold text-center mb-4\">{t('ultimosGanadores')}</h2>\r\n                <ul className=\"divide-y\">\r\n                    {(() => {\r\n                        if (typeof window !== \"undefined\") {\r\n                            const concursosStr = localStorage.getItem(\"concursos\");\r\n                            const concursosArr = concursosStr ? JSON.parse(concursosStr) : [];\r\n                            // Filtrar los que tengan ganador y mostrar los 25 mÃ¡s recientes\r\n                            const ganadores = concursosArr.filter((c: any) => c.ganador && c.ganador !== \"\").slice(0, 25);\r\n                            if (ganadores.length === 0) {\r\n                                return <li className=\"py-2 text-gray-500\">{t('aunNoHayGanadores')}</li>;\r\n                            }\r\n                            return ganadores.map((c: any, idx: number) => (\r\n                                <li key={idx} className=\"py-2\">\r\n                                    <span className=\"font-bold\">{idx + 1}Âº </span>\r\n                                    <span className=\"text-blue-700 font-semibold\">{c.titulo}</span>\r\n                                    {c.autor && (\r\n                                        <span className=\"ml-2 text-gray-700\">{renderNick(c.autor)}</span>\r\n                                    )}\r\n                                    {c.ganador && (\r\n                                        <span className=\"ml-2\">\r\n                                            {renderNick(c.ganador, \"text-green-700 underline\")}\r\n                                        </span>\r\n                                    )}\r\n                                    {c.fechaFinal && (\r\n                                        <span className=\"ml-2 text-gray-500 text-sm\">Finalizado: {c.fechaFinal}</span>\r\n                                    )}\r\n                                </li>\r\n                            ));\r\n                        } else {\r\n                            return <li className=\"py-2 text-gray-500\">{t('aunNoHayGanadores')}</li>;\r\n                        }\r\n                    })()}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}