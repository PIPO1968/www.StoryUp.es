{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/app/api/add-question/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const { curso, asignatura, pregunta, respuesta } = await request.json();\r\n\r\n        if (!curso || !asignatura || !pregunta || !respuesta) {\r\n            return NextResponse.json({ error: 'Faltan campos requeridos' }, { status: 400 });\r\n        }\r\n\r\n        const fileName = `${asignatura}-${curso}.json`;\r\n        const filePath = path.join(process.cwd(), 'src', 'questions', fileName);\r\n\r\n        // Verificar si el archivo existe\r\n        if (!fs.existsSync(filePath)) {\r\n            return NextResponse.json({ error: `Archivo ${fileName} no encontrado` }, { status: 404 });\r\n        }\r\n\r\n        // Leer el archivo\r\n        const fileContent = fs.readFileSync(filePath, 'utf-8');\r\n        let questions = JSON.parse(fileContent);        // Agregar la nueva pregunta\r\n        const nuevaPregunta = {\r\n            pregunta: pregunta.trim(),\r\n            respuesta: respuesta.trim(),\r\n            categoria: asignatura.charAt(0).toUpperCase() + asignatura.slice(1) // Capitalizar\r\n        };\r\n\r\n        questions.push(nuevaPregunta);\r\n\r\n        // Escribir de vuelta\r\n        fs.writeFileSync(filePath, JSON.stringify(questions, null, 2));\r\n\r\n        return NextResponse.json({ message: `Pregunta agregada a ${fileName}` });\r\n    } catch (error) {\r\n        console.error('Error al agregar pregunta:', error);\r\n        return NextResponse.json({ error: 'Error interno del servidor' }, { status: 500 });\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,IAAI;QAErE,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW;YAClD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA2B,GAAG;gBAAE,QAAQ;YAAI;QAClF;QAEA,MAAM,WAAW,GAAG,WAAW,CAAC,EAAE,MAAM,KAAK,CAAC;QAC9C,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,aAAa;QAE9D,iCAAiC;QACjC,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,WAAW;YAC1B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,CAAC,QAAQ,EAAE,SAAS,cAAc,CAAC;YAAC,GAAG;gBAAE,QAAQ;YAAI;QAC3F;QAEA,kBAAkB;QAClB,MAAM,cAAc,wGAAE,CAAC,YAAY,CAAC,UAAU;QAC9C,IAAI,YAAY,KAAK,KAAK,CAAC,cAAqB,4BAA4B;QAC5E,MAAM,gBAAgB;YAClB,UAAU,SAAS,IAAI;YACvB,WAAW,UAAU,IAAI;YACzB,WAAW,WAAW,MAAM,CAAC,GAAG,WAAW,KAAK,WAAW,KAAK,CAAC,GAAG,cAAc;QACtF;QAEA,UAAU,IAAI,CAAC;QAEf,qBAAqB;QACrB,wGAAE,CAAC,aAAa,CAAC,UAAU,KAAK,SAAS,CAAC,WAAW,MAAM;QAE3D,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS,CAAC,oBAAoB,EAAE,UAAU;QAAC;IAC1E,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA6B,GAAG;YAAE,QAAQ;QAAI;IACpF;AACJ","debugId":null}}]
}