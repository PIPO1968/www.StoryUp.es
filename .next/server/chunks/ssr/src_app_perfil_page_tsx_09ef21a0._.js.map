{"version":3,"sources":["turbopack:///[project]/src/app/perfil/page.tsx","turbopack:///[project]/src/data/trofeosPremiumImport.ts"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { renderNick } from \"@/utils/renderNick\";\r\nimport { TROFEOS_PREMIUM } from \"@/data/trofeosPremiumImport\";\r\nimport { useTranslation } from \"@/utils/i18n\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface Usuario {\r\n    nick: string;\r\n    nombre: string;\r\n    email: string;\r\n    centro: string;\r\n    curso: string;\r\n    tipo: string;\r\n    fechaInscripcion: string;\r\n    likes: number;\r\n    amigos: string[];\r\n    respuestasAcertadas: number;\r\n    competicionesSuperadas: number;\r\n    concursosGanados: number;\r\n    comentariosRecibidos: number;\r\n    historiasCreadas: number;\r\n    anosEnStoryUp: number;\r\n    trofeos: any[];\r\n}\r\n\r\nconst PerfilUsuario: React.FC = () => {\r\n    const router = useRouter();\r\n    // Funci√≥n para bloquear manualmente el trofeo 10 al usuario seleccionado\r\n    // Funci√≥n para bloquear manualmente cualquier trofeo al usuario seleccionado\r\n    const handleLockTrofeo = (trofeoIdx: number) => {\r\n        if (!selectedUser) return;\r\n        const updatedUsers = usuarios.map((u: any) =>\r\n            u.nick === selectedUser\r\n                ? {\r\n                    ...u,\r\n                    trofeosDesbloqueados: Array.isArray(u.trofeosDesbloqueados)\r\n                        ? u.trofeosDesbloqueados.filter((idx: number) => idx !== trofeoIdx)\r\n                        : [],\r\n                    trofeosBloqueados: Array.isArray(u.trofeosBloqueados)\r\n                        ? [...new Set([...(u.trofeosBloqueados || []), trofeoIdx])]\r\n                        : [trofeoIdx]\r\n                }\r\n                : u\r\n        );\r\n        setUsuarios(updatedUsers);\r\n        localStorage.setItem(\"users\", JSON.stringify(updatedUsers));\r\n        const userTrofeos = updatedUsers.find((u: any) => u.nick === selectedUser)?.trofeosDesbloqueados || [];\r\n        const userBloqueados = updatedUsers.find((u: any) => u.nick === selectedUser)?.trofeosBloqueados || [];\r\n        localStorage.setItem(`trofeos_${selectedUser}`, JSON.stringify(userTrofeos));\r\n        localStorage.setItem(`bloqueados_${selectedUser}`, JSON.stringify(userBloqueados));\r\n        // Si el usuario administrado es el actual, actualiza tambi√©n el estado y localStorage\r\n        if (user && user.nick === selectedUser) {\r\n            setUser({ ...user, trofeosDesbloqueados: userTrofeos, trofeosBloqueados: userBloqueados });\r\n            localStorage.setItem(\"user\", JSON.stringify({ ...user, trofeosDesbloqueados: userTrofeos, trofeosBloqueados: userBloqueados }));\r\n        }\r\n        // Disparar evento para refrescar la UI\r\n        window.dispatchEvent(new Event('storage'));\r\n        alert(`Trofeo #${trofeoIdx + 1} bloqueado manualmente para ${selectedUser}`);\r\n    };\r\n\r\n    // Funci√≥n para asignar trofeos al usuario si su centro gan√≥ premios este mes\r\n    const asignarTrofeosUsuario = (usuario: Usuario) => {\r\n        if (typeof window === \"undefined\") return;\r\n\r\n        const fechaActual = new Date();\r\n        const clavePremios = `premios_mensuales_${fechaActual.getFullYear()}_${(fechaActual.getMonth() + 1).toString().padStart(2, '0')}`;\r\n\r\n        const premiosGuardados = localStorage.getItem(clavePremios);\r\n        if (!premiosGuardados) return;\r\n\r\n        try {\r\n            const premios = JSON.parse(premiosGuardados);\r\n            const premioCentro = premios.find((p: any) => p.centro === usuario.centro);\r\n\r\n            if (premioCentro) {\r\n                let idTrofeo = 0;\r\n                switch (premioCentro.posicion) {\r\n                    case 1: idTrofeo = 25; break; // Campe√≥n Mensual\r\n                    case 2: idTrofeo = 26; break; // Subcampe√≥n Mensual\r\n                    case 3: idTrofeo = 27; break; // Tercer Lugar Mensual\r\n                    default:\r\n                        if (premioCentro.posicion <= 10) {\r\n                            idTrofeo = 28; // Top 10 Mensual\r\n                        } else {\r\n                            idTrofeo = 29; // Participante Activo\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                if (idTrofeo > 0 && !usuario.trofeos.includes(idTrofeo)) {\r\n                    usuario.trofeos.push(idTrofeo);\r\n                    // Actualizar localStorage\r\n                    const usersStr = localStorage.getItem(\"users\");\r\n                    if (usersStr) {\r\n                        const users = JSON.parse(usersStr);\r\n                        const index = users.findIndex((u: Usuario) => u.nick === usuario.nick);\r\n                        if (index !== -1) {\r\n                            users[index] = usuario;\r\n                            localStorage.setItem(\"users\", JSON.stringify(users));\r\n                        }\r\n                    }\r\n                    // Mostrar notificaci√≥n de nuevo trofeo\r\n                    alert(`¬°Felicitaciones! Has desbloqueado un nuevo trofeo: ${premioCentro.titulo}`);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            // Silent fail\r\n        }\r\n    };\r\n\r\n    const [user, setUser] = useState<any>(null);\r\n    const [bullyingActivo, setBullyingActivo] = useState(false);\r\n    const [usuarioBullying, setUsuarioBullying] = useState(\"\");\r\n    const [palabraProhibida, setPalabraProhibida] = useState(\"\");\r\n    const [concursoTitulo, setConcursoTitulo] = useState(\"\");\r\n    const [concursoTexto, setConcursoTexto] = useState(\"\");\r\n    const [fechaInicio, setFechaInicio] = useState(\"\");\r\n    const [fechaFin, setFechaFin] = useState(\"\");\r\n    const [usuarioGanador, setUsuarioGanador] = useState(\"\");\r\n    const [concursoId, setConcursoId] = useState(1);\r\n    const [nombreArchivo, setNombreArchivo] = useState(\"\");\r\n    const [usuarios, setUsuarios] = useState<any[]>([]);\r\n    const [selectedUser, setSelectedUser] = useState(\"\");\r\n    const [chatInput, setChatInput] = useState(\"\");\r\n    const [chatMessages, setChatMessages] = useState<{ from: string, to: string, text: string, fecha?: string }[]>([]);\r\n    const [mensajeRecibido, setMensajeRecibido] = useState(false);\r\n    const [noticiaTitulo, setNoticiaTitulo] = useState(\"\");\r\n    const [noticiaTexto, setNoticiaTexto] = useState(\"\");\r\n    const [noticiaImagen, setNoticiaImagen] = useState<string>(\"\");\r\n    // Estado para el trofeo seleccionado por el admin\r\n    const [trofeoSeleccionado, setTrofeoSeleccionado] = useState(\"\");\r\n    // Estados para gestionar concursos finalizados\r\n    const [concursoSeleccionado, setConcursoSeleccionado] = useState(\"\");\r\n    const [ganadorSeleccionado, setGanadorSeleccionado] = useState(\"\");\r\n    const [refreshKey, setRefreshKey] = useState(0);\r\n    // Estados para preguntas\r\n    const [cursoSeleccionado, setCursoSeleccionado] = useState<string>(\"1primaria\");\r\n    const [asignaturaSeleccionada, setAsignaturaSeleccionada] = useState<string>(\"matematicas\");\r\n    const [pregunta, setPregunta] = useState<string>(\"\");\r\n    const [respuesta, setRespuesta] = useState<string>(\"\");\r\n\r\n    const { t } = useTranslation();\r\n\r\n    // Inicializaci√≥n y sincronizaci√≥n de usuario y rankings SOLO una vez\r\n    useEffect(() => {\r\n        // Obtener usuario actual\r\n        fetch('/api/auth/me')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.user) {\r\n                    setUser(data.user);\r\n                } else {\r\n                    // No est√° logueado, redirigir\r\n                    router.push('/');\r\n                }\r\n            })\r\n            .catch(() => {\r\n                router.push('/');\r\n            });\r\n\r\n        // Obtener lista de usuarios\r\n        fetch('/api/users')\r\n            .then(response => response.json())\r\n            .then(users => {\r\n                setUsuarios(users);\r\n            })\r\n            .catch(error => {\r\n                console.warn('No se pudo cargar la lista de usuarios:', error);\r\n            });\r\n    }, []);\r\n\r\n    // Cargar mensajes del chat y aviso solo cuando cambia el usuario\r\n    useEffect(() => {\r\n        if (user && user.nick) {\r\n            const mensajesGuardados = localStorage.getItem(`chat_${user.nick}`);\r\n            if (mensajesGuardados) {\r\n                setChatMessages(JSON.parse(mensajesGuardados));\r\n            }\r\n            const aviso = localStorage.getItem(`chat_aviso_${user.nick}`);\r\n            setMensajeRecibido(aviso === \"1\");\r\n        }\r\n    }, [user]);\r\n\r\n    // Escuchar cambios en el perfil\r\n    useEffect(() => {\r\n        const handleProfileUpdate = () => {\r\n            const usersStr = localStorage.getItem(\"users\");\r\n            if (usersStr) {\r\n                setUsuarios(JSON.parse(usersStr));\r\n            }\r\n            const userStr = localStorage.getItem(\"user\");\r\n            if (userStr) {\r\n                setUser(JSON.parse(userStr));\r\n            }\r\n        };\r\n        window.addEventListener('profileUpdate', handleProfileUpdate);\r\n        window.addEventListener('storage', handleProfileUpdate);\r\n        return () => {\r\n            window.removeEventListener('profileUpdate', handleProfileUpdate);\r\n            window.removeEventListener('storage', handleProfileUpdate);\r\n        };\r\n    }, []);\r\n\r\n    const handlePalabraProhibidaSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        alert(`Palabra prohibida seleccionada: ${palabraProhibida}`);\r\n        setPalabraProhibida(\"\");\r\n    };\r\n    const handleApagarBullying = () => {\r\n        setBullyingActivo(false);\r\n        setUsuarioBullying(\"\");\r\n    };\r\n    const handleConcursoSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        // Guardar el concurso en localStorage, incluyendo el ganador si existe\r\n        const concursosStr = localStorage.getItem(\"concursos\");\r\n        let concursosArr = concursosStr ? JSON.parse(concursosStr) : [];\r\n        concursosArr.unshift({\r\n            numero: concursoId,\r\n            titulo: concursoTitulo,\r\n            texto: concursoTexto,\r\n            inicio: fechaInicio,\r\n            fin: fechaFin,\r\n            autor: user ? user.nick : \"\",\r\n            ganador: usuarioGanador,\r\n            fechaFinal: fechaFin\r\n        });\r\n        localStorage.setItem(\"concursos\", JSON.stringify(concursosArr));\r\n        localStorage.setItem(\"lastConcursoId\", concursoId.toString());\r\n        setConcursoId(concursoId + 1);\r\n        setConcursoTitulo(\"\");\r\n        setConcursoTexto(\"\");\r\n        setFechaInicio(\"\");\r\n        setFechaFin(\"\");\r\n        setUsuarioGanador(\"\");\r\n        // Refrescar concursos en otras p√°ginas\r\n        window.dispatchEvent(new Event('storage'));\r\n        alert(\"Concurso creado y ganador registrado\");\r\n    };\r\n    const handleSeleccionarGanador = () => {\r\n        if (usuarioGanador) {\r\n            // Guardar el ganador en el concurso m√°s reciente\r\n            const concursosStr = localStorage.getItem(\"concursos\");\r\n            let concursosArr = concursosStr ? JSON.parse(concursosStr) : [];\r\n            if (concursosArr.length > 0) {\r\n                concursosArr[0].ganador = usuarioGanador;\r\n                localStorage.setItem(\"concursos\", JSON.stringify(concursosArr));\r\n            }\r\n            // Sumar concursosGanados al usuario seleccionado\r\n            const updatedUsers = usuarios.map(u =>\r\n                u.nick === usuarioGanador\r\n                    ? { ...u, concursosGanados: (u.concursosGanados || 0) + 1 }\r\n                    : u\r\n            );\r\n            setUsuarios(updatedUsers);\r\n            localStorage.setItem(\"users\", JSON.stringify(updatedUsers));\r\n            // Si el usuario actual es el ganador, actualizar tambi√©n el estado user\r\n            if (user && user.nick === usuarioGanador) {\r\n                setUser({ ...user, concursosGanados: (user.concursosGanados || 0) + 1 });\r\n                localStorage.setItem(\"user\", JSON.stringify({ ...user, concursosGanados: (user.concursosGanados || 0) + 1 }));\r\n            }\r\n            // Refrescar perfil y concursos\r\n            window.dispatchEvent(new Event('profileUpdate'));\r\n            window.dispatchEvent(new Event('storage'));\r\n            alert(`Ganador seleccionado: ${usuarioGanador}`);\r\n        } else {\r\n            alert(\"Selecciona un usuario ganador\");\r\n        }\r\n    };\r\n    const handleAsignarGanador = () => {\r\n        if (!concursoSeleccionado || !ganadorSeleccionado) {\r\n            alert(\"Selecciona un concurso y un ganador\");\r\n            return;\r\n        }\r\n        const concursosStr = localStorage.getItem(\"concursos\");\r\n        let concursosArr = concursosStr ? JSON.parse(concursosStr) : [];\r\n        const concursoIndex = concursosArr.findIndex((c: any) => String(c.numero) === String(concursoSeleccionado));\r\n        if (concursoIndex !== -1) {\r\n            concursosArr[concursoIndex].ganador = ganadorSeleccionado;\r\n            localStorage.setItem(\"concursos\", JSON.stringify(concursosArr));\r\n            // Sumar concursosGanados al usuario seleccionado\r\n            const updatedUsers = usuarios.map(u =>\r\n                u.nick === ganadorSeleccionado\r\n                    ? { ...u, concursosGanados: (u.concursosGanados || 0) + 1 }\r\n                    : u\r\n            );\r\n            setUsuarios(updatedUsers);\r\n            localStorage.setItem(\"users\", JSON.stringify(updatedUsers));\r\n            // Si el usuario actual es el ganador, actualizar tambi√©n el estado user\r\n            if (user && user.nick === ganadorSeleccionado) {\r\n                setUser({ ...user, concursosGanados: (user.concursosGanados || 0) + 1 });\r\n                localStorage.setItem(\"user\", JSON.stringify({ ...user, concursosGanados: (user.concursosGanados || 0) + 1 }));\r\n            }\r\n            // Sumar 10 likes al ganador\r\n            updateLikes(ganadorSeleccionado, 10);\r\n            // Limpiar selecciones\r\n            setConcursoSeleccionado('');\r\n            setGanadorSeleccionado('');\r\n            // Refrescar perfil y concursos\r\n            window.dispatchEvent(new Event('profileUpdate'));\r\n            window.dispatchEvent(new Event('storage'));\r\n            alert(`Ganador asignado a concurso ${concursoSeleccionado}: ${ganadorSeleccionado}`);\r\n            setConcursoSeleccionado(\"\");\r\n            setGanadorSeleccionado(\"\");\r\n            // Forzar re-render para actualizar la lista de concursos\r\n            setRefreshKey(prev => prev + 1);\r\n        } else {\r\n            alert(\"Concurso no encontrado\");\r\n        }\r\n    };\r\n    const handleNoticiaSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setNoticiaTitulo(\"\");\r\n        setNoticiaTexto(\"\");\r\n        setNoticiaImagen(\"\");\r\n        alert(\"Noticia publicada (simulado)\");\r\n    };\r\n\r\n    // Funci√≥n para enviar pregunta\r\n    const enviarPregunta = async () => {\r\n        if (!pregunta.trim() || !respuesta.trim()) {\r\n            alert(\"Por favor, completa la pregunta y la respuesta\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('/api/add-question', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    curso: cursoSeleccionado,\r\n                    asignatura: asignaturaSeleccionada,\r\n                    pregunta: pregunta.trim(),\r\n                    respuesta: respuesta.trim(),\r\n                }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                alert(`Pregunta agregada exitosamente a ${asignaturaSeleccionada}-${cursoSeleccionado}.json\\n\\nPregunta: ${pregunta}\\nRespuesta: ${respuesta}`);\r\n                // Limpiar campos\r\n                setPregunta(\"\");\r\n                setRespuesta(\"\");\r\n            } else {\r\n                alert(`Error: ${data.error}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al enviar pregunta:', error);\r\n            alert('Error al enviar la pregunta. Int√©ntalo de nuevo.');\r\n        }\r\n    };\r\n\r\n    // Funci√≥n para a√±adir trofeo al usuario seleccionado\r\n    const handleAddTrofeo = () => {\r\n        if (!selectedUser) return;\r\n        const updatedUsers = usuarios.map(u =>\r\n            u.nick === selectedUser\r\n                ? { ...u, trofeos: (u.trofeos || 0) + 1 }\r\n                : u\r\n        );\r\n        setUsuarios(updatedUsers);\r\n        localStorage.setItem(\"users\", JSON.stringify(updatedUsers));\r\n        alert(`Trofeo a√±adido a ${selectedUser}`);\r\n    };\r\n    // Funci√≥n general para sumar o restar likes a cualquier usuario\r\n    const updateLikes = (nick: string, cantidad: number) => {\r\n        if (!nick) return;\r\n        const updatedUsers = usuarios.map(u =>\r\n            u.nick === nick\r\n                ? { ...u, likes: (u.likes || 0) + cantidad }\r\n                : u\r\n        );\r\n        setUsuarios(updatedUsers);\r\n        localStorage.setItem(\"users\", JSON.stringify(updatedUsers));\r\n        // Si el usuario actual es el modificado, actualiza tambi√©n el estado user\r\n        if (user && user.nick === nick) {\r\n            setUser({ ...user, likes: (user.likes || 0) + cantidad });\r\n            localStorage.setItem(\"user\", JSON.stringify({ ...user, likes: (user.likes || 0) + cantidad }));\r\n        }\r\n        // Eliminar cualquier uso de likes_${nick} en localStorage\r\n        localStorage.removeItem(`likes_${nick}`);\r\n        // Emitir evento 'storage' manualmente para refrescar otras p√°ginas\r\n        window.dispatchEvent(new Event('storage'));\r\n    };\r\n    // Funci√≥n para desbloquear trofeo espec√≠fico\r\n    const handleUnlockTrofeo = (trofeoIdx: number) => {\r\n        if (!selectedUser) return;\r\n        const updatedUsers = usuarios.map(u =>\r\n            u.nick === selectedUser\r\n                ? {\r\n                    ...u,\r\n                    trofeosDesbloqueados: Array.isArray(u.trofeosDesbloqueados)\r\n                        ? [...new Set([...(u.trofeosDesbloqueados || []), trofeoIdx])]\r\n                        : [trofeoIdx],\r\n                    trofeosBloqueados: Array.isArray(u.trofeosBloqueados)\r\n                        ? u.trofeosBloqueados.filter((idx: number) => idx !== trofeoIdx)\r\n                        : []\r\n                }\r\n                : u\r\n        );\r\n        setUsuarios(updatedUsers);\r\n        localStorage.setItem(\"users\", JSON.stringify(updatedUsers));\r\n        // Guardar los trofeos desbloqueados en localStorage para estad√≠sticas\r\n        const userTrofeos = updatedUsers.find(u => u.nick === selectedUser)?.trofeosDesbloqueados || [];\r\n        const userBloqueados = updatedUsers.find(u => u.nick === selectedUser)?.trofeosBloqueados || [];\r\n        localStorage.setItem(`trofeos_${selectedUser}`, JSON.stringify(userTrofeos));\r\n        localStorage.setItem(`bloqueados_${selectedUser}`, JSON.stringify(userBloqueados));\r\n        // Si el usuario administrado es el actual, actualiza tambi√©n el estado y localStorage\r\n        if (user && user.nick === selectedUser) {\r\n            setUser({ ...user, trofeosDesbloqueados: userTrofeos, trofeosBloqueados: userBloqueados });\r\n            localStorage.setItem(\"user\", JSON.stringify({ ...user, trofeosDesbloqueados: userTrofeos, trofeosBloqueados: userBloqueados }));\r\n        }\r\n        // Disparar evento para refrescar la UI\r\n        window.dispatchEvent(new Event('storage'));\r\n        alert(`Trofeo #${trofeoIdx + 1} desbloqueado para ${selectedUser}`);\r\n    };\r\n\r\n    // Lista de trofeos normales (24)\r\n    const TROFEOS = [\r\n        { src: \"/trofeo1.jpg\", texto: \"Trofeo 1\", tipo: \"auto\" },\r\n        { src: \"/trofeo2.jpg\", texto: \"Trofeo 2\", tipo: \"auto\" },\r\n        { src: \"/trofeo3.jpg\", texto: \"Trofeo 3\", tipo: \"auto\" },\r\n        { src: \"/trofeo4.jpg\", texto: \"Trofeo 4\", tipo: \"auto\" },\r\n        { src: \"/trofeo5.jpg\", texto: \"Trofeo 5\", tipo: \"auto\" },\r\n        { src: \"/trofeo6.jpg\", texto: \"Trofeo 6\", tipo: \"auto\" },\r\n        { src: \"/trofeo7.jpg\", texto: \"Trofeo 7\", tipo: \"auto\" },\r\n        { src: \"/trofeo8.jpg\", texto: \"Trofeo 8\", tipo: \"auto\" },\r\n        { src: \"/trofeo9.jpg\", texto: \"Trofeo 9\", tipo: \"auto\" },\r\n        { src: \"/trofeo10.jpg\", texto: \"Trofeo 10\", tipo: \"auto\" },\r\n        { src: \"/trofeo11.jpg\", texto: \"Trofeo 11\", tipo: \"auto\" },\r\n        { src: \"/trofeo12.jpg\", texto: \"Trofeo 12\", tipo: \"auto\" },\r\n        { src: \"/trofeo13.png\", texto: \"Trofeo 13\", tipo: \"auto\" },\r\n        { src: \"/trofeo14.jpg\", texto: \"Trofeo 14\", tipo: \"auto\" },\r\n        { src: \"/trofeo15.jpg\", texto: \"Trofeo 15\", tipo: \"auto\" },\r\n        { src: \"/trofeo16.jpg\", texto: \"Trofeo 16\", tipo: \"auto\" },\r\n        { src: \"/trofeo17.jpg\", texto: \"Trofeo 17\", tipo: \"auto\" },\r\n        { src: \"/trofeo18.jpg\", texto: \"Trofeo 18\", tipo: \"auto\" },\r\n        { src: \"/trofeo19.jpg\", texto: \"Trofeo 19\", tipo: \"auto\" },\r\n        { src: \"/trofeo20.jpg\", texto: \"Trofeo 20\", tipo: \"auto\" },\r\n        { src: \"/trofeo21.jpg\", texto: \"Trofeo 21\", tipo: \"auto\" },\r\n        { src: \"/trofeo22.jpg\", texto: \"Trofeo 22\", tipo: \"auto\" },\r\n        { src: \"/trofeo23.jpg\", texto: \"Trofeo 23\", tipo: \"auto\" },\r\n        { src: \"/trofeo24.jpg\", texto: \"Trofeo 24\", tipo: \"auto\" },\r\n        { src: \"/trofeo1.jpg\", texto: \"üèÜ Campe√≥n Mensual\", tipo: \"asignado\" },\r\n        { src: \"/trofeo2.jpg\", texto: \"ü•à Subcampe√≥n Mensual\", tipo: \"asignado\" },\r\n        { src: \"/trofeo3.jpg\", texto: \"ü•â Tercer Lugar Mensual\", tipo: \"asignado\" },\r\n        { src: \"/trofeo4.jpg\", texto: \"üèÖ Top 10 Mensual\", tipo: \"asignado\" },\r\n        { src: \"/trofeo5.jpg\", texto: \"üìö Participante Activo\", tipo: \"asignado\" }\r\n    ];\r\n    // Lista de trofeos premium (12)\r\n    // TROFEOS_PREMIUM ahora se importa desde trofeosPremiumImport.ts\r\n    // Trofeos autom√°ticos con condici√≥n\r\n    const TROFEOS_AUTO = [\r\n        { src: \"/trofeo1.jpg\", texto: \"Trofeo 1\", tipo: \"auto\", condicion: (user: any) => (user.likes || 0) >= 10 },\r\n        { src: \"/trofeo2.jpg\", texto: \"Trofeo 2\", tipo: \"auto\", condicion: (user: any) => (user.amigos?.length || 0) >= 1 },\r\n        { src: \"/trofeo3.jpg\", texto: \"Trofeo 3\", tipo: \"auto\", condicion: (user: any) => (user.comentariosRealizados || 0) >= 1 },\r\n        { src: \"/trofeo4.jpg\", texto: \"Trofeo 4\", tipo: \"auto\", condicion: (user: any) => (user.historias?.length || 0) >= 1 },\r\n        { src: \"/trofeo5.jpg\", texto: \"Trofeo 5\", tipo: \"auto\", condicion: (user: any) => (user.preguntasAcertadas || 0) >= 20 },\r\n        { src: \"/trofeo6.jpg\", texto: \"Trofeo 6\", tipo: \"auto\", condicion: (user: any) => (user.competicionesSuperadas || 0) >= 1 },\r\n        { src: \"/trofeo7.jpg\", texto: \"Trofeo 7\", tipo: \"auto\", condicion: (user: any) => !!user.estaEnRanking },\r\n        { src: \"/trofeo8.jpg\", texto: \"Trofeo 8\", tipo: \"auto\", condicion: (user: any) => (user.concursosGanados || 0) >= 1 },\r\n        { src: \"/trofeo9.jpg\", texto: \"Trofeo 9\", tipo: \"auto\", condicion: (user: any) => (user.likes || 0) >= 100 },\r\n        { src: \"/trofeo10.jpg\", texto: \"Trofeo 10\", tipo: \"auto\", condicion: (user: any) => (user.amigos?.length || 0) >= 10 },\r\n        { src: \"/trofeo11.jpg\", texto: \"Trofeo 11\", tipo: \"auto\", condicion: (user: any) => (user.historias?.length || 0) >= 3 },\r\n        { src: \"/trofeo12.jpg\", texto: \"Trofeo 12\", tipo: \"auto\", condicion: (user: any) => (user.comentariosRecibidos || 0) >= 3 },\r\n        { src: \"/trofeo13.png\", texto: \"Trofeo 13\", tipo: \"auto\", condicion: (user: any) => !!user.estaEnRankingCompeticiones },\r\n        { src: \"/trofeo14.jpg\", texto: \"Trofeo 14\", tipo: \"auto\", condicion: (user: any) => (user.likes || 0) >= 500 },\r\n        { src: \"/trofeo15.jpg\", texto: \"Trofeo 15\", tipo: \"auto\", condicion: (user: any) => (user.amigos?.length || 0) >= 30 },\r\n        { src: \"/trofeo16.jpg\", texto: \"Trofeo 16\", tipo: \"auto\", condicion: (user: any) => (user.comentariosRecibidos || 0) >= 10 },\r\n        { src: \"/trofeo17.jpg\", texto: \"Trofeo 17\", tipo: \"auto\", condicion: (user: any) => (user.historias?.length || 0) >= 15 },\r\n        { src: \"/trofeo18.jpg\", texto: \"Trofeo 18\", tipo: \"auto\", condicion: (user: any) => (user.concursosGanados || 0) >= 3 },\r\n        { src: \"/trofeo19.jpg\", texto: \"Trofeo 19\", tipo: \"auto\", condicion: (user: any) => (user.preguntasAcertadas || 0) >= 1000 },\r\n        {\r\n            src: \"/trofeo20.jpg\", texto: \"Trofeo 20\", tipo: \"auto\", condicion: (user: any) => {\r\n                if (!user.fechaInscripcion) return false;\r\n                const fecha = new Date(user.fechaInscripcion);\r\n                const ahora = new Date();\r\n                const diff = ahora.getTime() - fecha.getTime();\r\n                return diff >= 365 * 24 * 60 * 60 * 1000; // 1 a√±o en ms\r\n            }\r\n        },\r\n        { src: \"/trofeo21.jpg\", texto: \"Trofeo 21\", tipo: \"auto\", condicion: (user: any) => (user.historias?.length || 0) >= 30 },\r\n        { src: \"/trofeo22.jpg\", texto: \"Trofeo 22\", tipo: \"auto\", condicion: (user: any) => (user.likes || 0) >= 1000 },\r\n        { src: \"/trofeo23.jpg\", texto: \"Trofeo 23\", tipo: \"auto\", condicion: (user: any) => (user.amigos?.length || 0) >= 50 }\r\n    ];\r\n    // Unificar todos los trofeos para el selector\r\n    const TROFEOS_ALL = [...TROFEOS, ...TROFEOS_PREMIUM];\r\n    // Funci√≥n para obtener trofeos desbloqueados autom√°ticamente\r\n    const getAutoTrofeos = (user: any) => {\r\n        // Trofeo Premium 7: Dise√±ador del Futuro\r\n        // ...existing code...\r\n        // Asegurar que el campo amigos es siempre un array actualizado\r\n        const userSync = {\r\n            ...user,\r\n            amigos: Array.isArray(user.amigos) ? user.amigos : []\r\n        };\r\n        let autoTrofeos = TROFEOS_AUTO\r\n            .map((t, idx) => (typeof t.condicion === 'function' && t.condicion(userSync)) ? idx : null)\r\n            .filter(idx => idx !== null);\r\n\r\n        // Desbloqueo autom√°tico de trofeos premium\r\n        const esPremium = userSync.premium === true || userSync.isPremium === true || userSync.tipo === \"premium\";\r\n        const historiasCreadas = Array.isArray(userSync.historias) ? userSync.historias.length : (userSync.historiasCreadas || 0);\r\n        const preguntasAcertadas = userSync.preguntasAcertadas || 0;\r\n        // Trofeo Premium 1: Historiador Premium\r\n        if (esPremium && historiasCreadas >= 35) {\r\n            autoTrofeos.push(TROFEOS.length); // √çndice del trofeo premium 1\r\n        }\r\n        // Trofeo Premium 2: Sabio Premium\r\n        if (esPremium && preguntasAcertadas >= 1200) {\r\n            autoTrofeos.push(TROFEOS.length + 1); // √çndice del trofeo premium 2\r\n        }\r\n        // Trofeo Premium 3: Amigo Premium\r\n        const amigosCount = Array.isArray(userSync.amigos) ? userSync.amigos.length : 0;\r\n        if (esPremium && amigosCount >= 60) {\r\n            autoTrofeos.push(TROFEOS.length + 2); // √çndice del trofeo premium 3\r\n        }\r\n        // Trofeo Premium 4: Esp√≠ritu Navide√±o Premium\r\n        let tieneHistoriaNavidad = false;\r\n        if (esPremium && Array.isArray(userSync.historias)) {\r\n            tieneHistoriaNavidad = userSync.historias.some((historia: any) => {\r\n                if (!historia || !historia.titulo || !historia.fecha || !historia.modo) return false;\r\n                const tituloLower = historia.titulo.toLowerCase();\r\n                const esNavidad = tituloLower.includes(\"navidad\") || tituloLower.includes(\"navide√±o\") || tituloLower.includes(\"navide√±a\");\r\n                const fecha = new Date(historia.fecha);\r\n                const year = fecha.getFullYear();\r\n                // Rango: 20 diciembre a 6 enero (del a√±o siguiente)\r\n                const inicio = new Date(year, 11, 20); // 20 diciembre\r\n                const fin = new Date(year + 1, 0, 6, 23, 59, 59); // 6 enero\r\n                return historia.modo === \"My Live\" && esNavidad && fecha >= inicio && fecha <= fin;\r\n            });\r\n        }\r\n        if (esPremium && tieneHistoriaNavidad) {\r\n            autoTrofeos.push(TROFEOS.length + 3); // √çndice del trofeo premium 4\r\n        }\r\n        // Trofeo Premium 5: Verano Dorado Premium\r\n        let tieneHistoriaVerano = false;\r\n        if (esPremium && Array.isArray(userSync.historias)) {\r\n            tieneHistoriaVerano = userSync.historias.some((historia: any) => {\r\n                if (!historia || !historia.fecha || !historia.modo) return false;\r\n                const fecha = new Date(historia.fecha);\r\n                // Rango: 15 junio a 15 septiembre\r\n                const year = fecha.getFullYear();\r\n                const inicio = new Date(year, 5, 15); // 15 junio\r\n                const fin = new Date(year, 8, 15, 23, 59, 59); // 15 septiembre\r\n                return historia.modo === \"My Live\" && fecha >= inicio && fecha <= fin;\r\n            });\r\n        }\r\n        if (esPremium && tieneHistoriaVerano) {\r\n            autoTrofeos.push(TROFEOS.length + 4); // √çndice del trofeo premium 5\r\n        }\r\n        // Trofeo Premium 6: Veterano Dorado\r\n        let mesesPremium = 0;\r\n        if (userSync.premiumInicio && userSync.premiumExpiracion) {\r\n            const inicio = new Date(userSync.premiumInicio);\r\n            const fin = new Date(userSync.premiumExpiracion);\r\n            // Calcular meses completos entre inicio y fin\r\n            mesesPremium = (fin.getFullYear() - inicio.getFullYear()) * 12 + (fin.getMonth() - inicio.getMonth());\r\n            // Si el d√≠a de expiraci√≥n es menor que el de inicio, restar un mes\r\n            if (fin.getDate() < inicio.getDate()) {\r\n                mesesPremium--;\r\n            }\r\n        }\r\n        if (esPremium && mesesPremium >= 6) {\r\n            autoTrofeos.push(TROFEOS.length + 5); // √çndice del trofeo premium 6\r\n        }\r\n        // Trofeo Premium 7: Dise√±ador del Futuro\r\n        let tieneLogoStoryUp = false;\r\n        if (esPremium && Array.isArray(userSync.historias)) {\r\n            tieneLogoStoryUp = userSync.historias.some((historia: any) => {\r\n                if (!historia || !historia.titulo || !historia.imagen) return false;\r\n                const tituloLower = historia.titulo.toLowerCase();\r\n                return tituloLower.includes(\"logo storyup\") && !!historia.imagen;\r\n            });\r\n        }\r\n        if (esPremium && tieneLogoStoryUp) {\r\n            autoTrofeos.push(TROFEOS.length + 6); // √çndice del trofeo premium 7\r\n        }\r\n        // Trofeo Premium 8: Escritor Premium\r\n        if (esPremium && historiasCreadas >= 15) {\r\n            autoTrofeos.push(TROFEOS.length + 7); // √çndice del trofeo premium 8\r\n        }\r\n\r\n        // Trofeo Premium 9: Competidor Premium\r\n        // Consigue al menos 30 trofeos (normales + premium)\r\n        const totalTrofeosDesbloqueados = Array.isArray(userSync.trofeosDesbloqueados) ? userSync.trofeosDesbloqueados.length : 0;\r\n        // Incluye los autom√°ticos calculados en esta funci√≥n\r\n        const totalAutoTrofeos = autoTrofeos.length;\r\n        const totalTrofeos = totalTrofeosDesbloqueados + totalAutoTrofeos;\r\n        if (esPremium && totalTrofeos >= 30) {\r\n            autoTrofeos.push(TROFEOS.length + 8); // √çndice del trofeo premium 9\r\n        }\r\n        // Trofeo Premium 10: Cerebro de Oro\r\n        // 2500+ preguntas acertadas en Aprende con Pipo\r\n        if (esPremium && preguntasAcertadas >= 2500) {\r\n            autoTrofeos.push(TROFEOS.length + 9); // √çndice del trofeo premium 10\r\n        }\r\n\r\n        // Trofeo Premium 11: Analista Premium\r\n        // Consigue nivel 3 en todas las materias en \"Analisis por materias\" de Estad√≠sticas premium Avanzadas\r\n        // Suponemos que user.nivelesMaterias es un objeto tipo { matematicas: 3, lenguaje: 3, ... }\r\n        const materiasRequeridas = [\"matematicas\", \"lenguaje\", \"ciencias\", \"ingles\", \"historia\", \"geografia\", \"literatura\"];\r\n        const nivelesMaterias = userSync.nivelesMaterias || {};\r\n        const todasNivel3 = materiasRequeridas.every(m => nivelesMaterias[m] >= 3);\r\n        if (esPremium && todasNivel3) {\r\n            autoTrofeos.push(TROFEOS.length + 10); // √çndice del trofeo premium 11\r\n        }\r\n        // Trofeo Premium 12: Red Social Premium\r\n        // Conseguir 100+ amigos\r\n        if (esPremium && amigosCount >= 100) {\r\n            autoTrofeos.push(TROFEOS.length + 11); // √çndice del trofeo premium 12\r\n        }\r\n        return autoTrofeos;\r\n    };\r\n    // Funci√≥n para saber si un trofeo est√° desbloqueado\r\n    const isTrofeoUnlocked = (user: any, idx: number) => {\r\n        const auto = getAutoTrofeos(user);\r\n        const manual = Array.isArray(user.trofeosDesbloqueados) ? user.trofeosDesbloqueados : [];\r\n        const bloqueados = Array.isArray(user.trofeosBloqueados) ? user.trofeosBloqueados : [];\r\n        const asignados = Array.isArray(user.trofeos) ? user.trofeos : [];\r\n        return (auto.includes(idx) || manual.includes(idx) || asignados.includes(idx)) && !bloqueados.includes(idx);\r\n    };\r\n\r\n    if (!user) {\r\n        return (\r\n            <div className=\"min-h-screen bg-green-100 flex items-center justify-center\">\r\n                <div className=\"max-w-md w-full bg-white shadow rounded p-6 text-center\">\r\n                    <h2 className=\"text-2xl font-bold mb-4\">Perfil</h2>\r\n                    <p className=\"text-gray-600\">No se ha iniciado sesi√≥n.</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    const displayedUser = selectedUser ? usuarios.find(u => u.nick === selectedUser) || user : user;\r\n\r\n    const isPremium = displayedUser ? (() => {\r\n        const premiumData = localStorage.getItem(`premium_${displayedUser.nick}`);\r\n        if (premiumData) {\r\n            try {\r\n                const data = JSON.parse(premiumData);\r\n                return data.activo === true;\r\n            } catch {\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    })() : false;\r\n    return (\r\n        <>\r\n            <div className=\"min-h-screen bg-green-100 flex flex-col pt-4\">\r\n                <div className=\"flex items-center justify-center mt-2 mb-4\">\r\n                    {mensajeRecibido && (\r\n                        <button\r\n                            className=\"bg-yellow-400 text-white px-2 py-1 rounded font-bold mr-4 animate-bounce\"\r\n                            onClick={() => {\r\n                                setMensajeRecibido(false);\r\n                                localStorage.removeItem(`chat_aviso_${user.nick}`);\r\n                            }}\r\n                        >Mensaje recibido</button>\r\n                    )}\r\n                    <h2 className=\"text-3xl font-bold text-center\">Perfil de {renderNick(displayedUser.nick)}</h2>\r\n\r\n                    {/* Indicador Premium Animado */}\r\n                    {isPremium && (\r\n                        <div className=\"flex justify-center mt-2\">\r\n                            <div className=\"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-white px-6 py-2 rounded-full font-bold text-lg shadow-lg shadow-yellow-500/50 animate-pulse flex items-center gap-2\">\r\n                                <span className=\"animate-bounce\">üëë</span>\r\n                                <span>PREMIUM ACTIVO</span>\r\n                                <span className=\"animate-bounce\">‚ú®</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"flex flex-row w-full\">\r\n                    {/* Datos personales */}\r\n                    <div className={`max-w-md w-full bg-white shadow rounded p-6 ml-8 transition-all duration-500 ${isPremium\r\n                        ? 'border-4 border-yellow-400 shadow-2xl shadow-yellow-400/50 animate-pulse relative overflow-hidden'\r\n                        : ''\r\n                        }`}>\r\n                        {/* Efecto de part√≠culas para premium */}\r\n                        {isPremium && (\r\n                            <div className=\"absolute inset-0 pointer-events-none\">\r\n                                <div className=\"absolute top-2 right-2 w-2 h-2 bg-yellow-400 rounded-full animate-ping opacity-75\"></div>\r\n                                <div className=\"absolute top-4 left-4 w-1 h-1 bg-yellow-300 rounded-full animate-bounce opacity-60\"></div>\r\n                                <div className=\"absolute bottom-4 right-6 w-1.5 h-1.5 bg-yellow-500 rounded-full animate-pulse opacity-80\"></div>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"flex justify-between items-center mb-4 relative\">\r\n                            <h3 className={`text-xl font-bold text-center w-full transition-all duration-300 ${isPremium ? 'text-yellow-600' : ''\r\n                                }`}>\r\n                                {t('informacionPersonal')}\r\n                                {isPremium && (\r\n                                    <span className=\"ml-2 animate-spin\">üëë</span>\r\n                                )}\r\n                            </h3>\r\n                        </div>                        <div className=\"flex flex-col items-center mb-4\">\r\n                            <div className={`relative ${isPremium ? '' : ''}`}>\r\n                                <img\r\n                                    src={displayedUser.avatar || \"/avatars/default.png\"}\r\n                                    alt=\"Avatar\"\r\n                                    className={`w-20 h-20 rounded-full mb-2 transition-all duration-300 ${isPremium\r\n                                        ? 'ring-4 ring-yellow-400 ring-opacity-70 shadow-lg shadow-yellow-400/50 hover:scale-110'\r\n                                        : ''\r\n                                        }`}\r\n                                />\r\n                                {isPremium && (\r\n                                    <div className=\"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-xs animate-bounce\">\r\n                                        ‚ú®\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            <button className={`px-4 py-2 rounded font-semibold transition-all duration-300 ${isPremium\r\n                                ? 'bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 shadow-lg hover:shadow-yellow-500/50 hover:scale-105'\r\n                                : 'bg-blue-500 text-white hover:bg-blue-600'\r\n                                }`} onClick={() => router.push('/perfil/avatar')}>\r\n                                Cambiar avatar\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"mb-2\"><strong>{t('nombre')}:</strong> {displayedUser.nombre}</div>\r\n                        <div className=\"mb-2\"><strong>Nick:</strong> {renderNick(displayedUser.nick)}</div>\r\n                        <div className=\"mb-2\"><strong>{t('email')}:</strong> {displayedUser.email}</div>\r\n                        <div className=\"mb-2\"><strong>{t('centroEducativo')}:</strong> {displayedUser.centro}</div>\r\n                        <div className=\"mb-2\"><strong>{t('curso')}:</strong> {displayedUser.curso}</div>\r\n                        <div className=\"mb-2\"><strong>{t('tipoUsuario')}:</strong> {user.tipo}</div>\r\n                        <div className=\"mb-2\"><strong>{t('fechaInscripcion')}:</strong> {user.fechaInscripcion ? new Date(user.fechaInscripcion).toLocaleDateString('es-ES') : ''}</div>\r\n                        <div className=\"mb-2 flex items-center\">\r\n                            {/* Datos personales en filas de dos en dos, con bloques redondos */}\r\n                            <div className=\"flex flex-col mt-2 gap-y-4\">\r\n                                <div className=\"flex flex-row gap-x-12\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <span className=\"mr-2 text-lg\">üëç</span>\r\n                                        <strong>Likes:</strong>\r\n                                        <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-300 text-green-900 font-bold text-sm\">{displayedUser.likes || 0}</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center ml-8\">\r\n                                        <span className=\"mr-2 text-lg\">üë•</span>\r\n                                        <strong>{t('totalAmigos')}:</strong>\r\n                                        <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-300 text-blue-900 font-bold text-sm\">{displayedUser.amigos ? displayedUser.amigos.length : 0}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex flex-row gap-x-12\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <span className=\"mr-2 text-lg\">üìñ</span>\r\n                                        <strong>{t('totalHistorias')}:</strong>\r\n                                        <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-purple-200 text-purple-900 font-bold text-sm\">{displayedUser.historias ? displayedUser.historias.length : 0}</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center\">\r\n                                        <span className=\"mr-2 text-lg\">üí¨</span>\r\n                                        <strong>{t('totalComentarios')}:</strong>\r\n                                        <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-yellow-200 text-yellow-900 font-bold text-sm\">{displayedUser.comentariosRecibidos || 0}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex flex-row gap-x-12\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <span className=\"mr-2 text-lg\">üèÜ</span>\r\n                                        <strong>{t('trofeosDesbloqueados')}:</strong>\r\n                                        {(() => {\r\n                                            // Trofeos autom√°ticos\r\n                                            const auto = getAutoTrofeos(displayedUser);\r\n                                            // Manuales\r\n                                            const manual = Array.isArray(displayedUser.trofeosDesbloqueados) ? displayedUser.trofeosDesbloqueados : [];\r\n                                            // Asignados (por competiciones, etc.)\r\n                                            const asignados = Array.isArray(displayedUser.trofeos) ? displayedUser.trofeos : [];\r\n                                            // Premium\r\n                                            const premiumCount = manual.filter((idx: number) => idx >= TROFEOS.length && idx < TROFEOS.length + TROFEOS_PREMIUM.length).length;\r\n                                            // Unir todos y contar √∫nicos\r\n                                            const total = new Set([...auto, ...manual, ...asignados]).size + premiumCount;\r\n                                            return (\r\n                                                <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-pink-200 text-pink-900 font-bold text-sm\">{total}</span>\r\n                                            );\r\n                                        })()}\r\n                                    </div>\r\n                                    <div className=\"flex items-center\">\r\n                                        <span className=\"mr-2 text-lg\">‚úÖ</span>\r\n                                        <strong>Respuestas acertadas:</strong>\r\n                                        <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-200 text-indigo-900 font-bold text-sm\">{user.preguntasAcertadas || 0}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex flex-row gap-x-12\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <span className=\"mr-2 text-lg\">ü•á</span>\r\n                                        <strong>Competiciones:</strong>\r\n                                        <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-teal-200 text-teal-900 font-bold text-sm\">{displayedUser.competicionesSuperadas || 0}</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center\">\r\n                                        <span className=\"mr-2 text-lg\">üéâ</span>\r\n                                        <strong>Concursos:</strong>\r\n                                        <span className=\"ml-2 inline-flex items-center justify-center w-8 h-8 rounded-full bg-red-200 text-red-900 font-bold text-sm\">{displayedUser.concursosGanados || 0}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col flex-1 ml-8\">\r\n                        <div className=\"flex flex-row gap-4\">\r\n                            {/* Trofeos */}\r\n                            <div className=\"max-w-md w-full bg-white shadow rounded p-6\">\r\n                                <h3 className=\"text-xl font-bold mb-4 text-center\">{t('trofeosDesbloqueados')}</h3>\r\n                                <div className=\"grid grid-cols-6 gap-2\">\r\n                                    {TROFEOS.map((trofeo, idx) => {\r\n                                        const tieneTrofeo = isTrofeoUnlocked(user, idx);\r\n                                        return (\r\n                                            <div key={idx} className={`relative bg-white rounded-lg shadow flex items-center justify-center w-14 h-14 border border-gray-200 ${tieneTrofeo ? '' : 'opacity-40'}`}>\r\n                                                <img src={trofeo.src} alt={trofeo.texto} className=\"w-10 h-10 object-contain\" />\r\n                                                {tieneTrofeo ? (\r\n                                                    <span className=\"absolute top-1 right-1 bg-yellow-200 text-xs font-bold rounded px-1 py-0.5\">{idx + 1}</span>\r\n                                                ) : (\r\n                                                    <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\r\n                                                        <svg width=\"56\" height=\"56\" viewBox=\"0 0 56 56\" className=\"absolute text-red-500\" style={{ zIndex: 2, left: 0, top: 0 }}>\r\n                                                            <line x1=\"0\" y1=\"0\" x2=\"56\" y2=\"56\" stroke=\"currentColor\" strokeWidth=\"6\" />\r\n                                                            <line x1=\"56\" y1=\"0\" x2=\"0\" y2=\"56\" stroke=\"currentColor\" strokeWidth=\"6\" />\r\n                                                        </svg>\r\n                                                        <svg width=\"48\" height=\"48\" viewBox=\"0 0 20 20\" fill=\"none\" className=\"text-yellow-500\">\r\n                                                            <rect x=\"2\" y=\"7\" width=\"16\" height=\"10\" rx=\"3\" fill=\"currentColor\" />\r\n                                                            <rect x=\"5\" y=\"2\" width=\"10\" height=\"7\" rx=\"5\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n                                                            <circle cx=\"10\" cy=\"13\" r=\"2\" fill=\"#fff\" />\r\n                                                        </svg>\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                            {/* Trofeos Premium */}\r\n                            <div className={`max-w-md w-full bg-white shadow rounded p-6 transition-all duration-500 ${isPremium\r\n                                ? 'border-4 border-yellow-400 shadow-2xl shadow-yellow-400/50 animate-pulse relative overflow-hidden'\r\n                                : ''\r\n                                }`}>\r\n                                {/* Efectos premium para trofeos */}\r\n                                {isPremium && (\r\n                                    <div className=\"absolute inset-0 pointer-events-none\">\r\n                                        <div className=\"absolute top-1 left-1 w-2 h-2 bg-yellow-400 rounded-full animate-ping opacity-60\"></div>\r\n                                        <div className=\"absolute bottom-2 right-2 w-1 h-1 bg-yellow-300 rounded-full animate-bounce opacity-70\"></div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <h3 className={`text-xl font-bold mb-4 text-center transition-all duration-300 ${isPremium ? 'text-yellow-600' : ''\r\n                                    }`}>\r\n                                    Trofeos Premium\r\n                                    {isPremium && <span className=\"ml-2 animate-spin\">üëë</span>}\r\n                                </h3>\r\n                                <div className=\"grid grid-cols-4 gap-4 w-full\">\r\n                                    {TROFEOS_PREMIUM.map((trofeo, idx) => {\r\n                                        const tieneTrofeo = isTrofeoUnlocked(user, TROFEOS.length + idx);\r\n                                        return (\r\n                                            <div key={idx} className={`relative bg-white rounded-lg shadow flex items-center justify-center w-20 h-20 border-2 border-yellow-400 ${tieneTrofeo ? '' : 'opacity-40'}`}>\r\n                                                <img src={trofeo.src} alt={`Premium ${idx + 1}`} className=\"w-16 h-16 object-contain\" />\r\n                                                {tieneTrofeo ? (\r\n                                                    <span className=\"absolute top-1 right-1 bg-yellow-300 text-sm font-bold rounded px-2 py-0.5\">{idx + 1}</span>\r\n                                                ) : (\r\n                                                    <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\r\n                                                        <svg width=\"72\" height=\"72\" viewBox=\"0 0 72 72\" className=\"absolute text-red-500\" style={{ zIndex: 2, left: 0, top: 0 }}>\r\n                                                            <line x1=\"0\" y1=\"0\" x2=\"72\" y2=\"72\" stroke=\"currentColor\" strokeWidth=\"8\" />\r\n                                                            <line x1=\"72\" y1=\"0\" x2=\"0\" y2=\"72\" stroke=\"currentColor\" strokeWidth=\"8\" />\r\n                                                        </svg>\r\n                                                        <svg width=\"64\" height=\"64\" viewBox=\"0 0 20 20\" fill=\"none\" className=\"text-yellow-500\">\r\n                                                            <rect x=\"2\" y=\"7\" width=\"16\" height=\"10\" rx=\"3\" fill=\"currentColor\" />\r\n                                                            <rect x=\"5\" y=\"2\" width=\"10\" height=\"7\" rx=\"5\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n                                                            <circle cx=\"10\" cy=\"13\" r=\"2\" fill=\"#fff\" />\r\n                                                        </svg>\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {/* Chat justo debajo de los trofeos, con ancho limitado */}\r\n                        <div className=\"flex flex-row justify-start mt-16\">\r\n                            <div className=\"bg-white shadow-lg rounded-lg p-6 flex flex-row items-start gap-6\" style={{ width: 'calc(2 * 28rem + 1rem)' }}>\r\n                                {/* 2 bloques de trofeos de max-w-md (28rem) + gap-4 (1rem) */}\r\n                                <div className=\"w-64 flex flex-col items-start\">\r\n                                    <label htmlFor=\"destinatario\" className=\"font-medium mb-2 text-sm\">Enviar a usuario:</label>\r\n                                    <select\r\n                                        id=\"destinatario\"\r\n                                        className=\"px-2 py-2 rounded border border-blue-300 bg-white w-full text-sm\"\r\n                                        value={selectedUser}\r\n                                        onChange={e => setSelectedUser(e.target.value)}\r\n                                    >\r\n                                        <option value=\"\">{t('seleccionarUsuario')}</option>\r\n                                        {usuarios\r\n                                            .filter((u, i, arr) => arr.findIndex(x => x.nick === u.nick) === i)\r\n                                            .sort((a, b) => a.nick.localeCompare(b.nick))\r\n                                            .map((u: any) => (\r\n                                                <option key={u.nick} value={u.nick}>{u.nick}</option>\r\n                                            ))}\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"flex-1 flex flex-col items-center\">\r\n                                    <div className=\"flex items-center mb-4\">\r\n                                        <h3 className=\"text-xl font-bold text-center flex-1\">Chat</h3>\r\n                                    </div>\r\n                                    <div className=\"w-full h-64 bg-gray-50 rounded-lg border border-gray-200 p-4 overflow-y-auto flex flex-col\">\r\n                                        {chatMessages.length === 0 ? (\r\n                                            <div className=\"flex-1 flex items-center justify-center text-gray-400\">El chat estar√° disponible aqu√≠.</div>\r\n                                        ) : (\r\n                                            chatMessages.map((msg, idx) => (\r\n                                                <div key={idx} className=\"mb-2 text-sm flex justify-between items-center\">\r\n                                                    <span>\r\n                                                        <strong>{msg.from === user.nick ? \"T√∫\" : msg.from} ‚Üí {msg.to === user.nick ? \"T√∫\" : msg.to}:</strong> {msg.text}\r\n                                                    </span>\r\n                                                    {msg.fecha && (\r\n                                                        <span className=\"ml-2 text-xs text-gray-500\">{msg.fecha}</span>\r\n                                                    )}\r\n                                                </div>\r\n                                            ))\r\n                                        )}\r\n                                        <div className=\"w-full mt-4 flex\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                className=\"flex-1 border rounded-l px-3 py-2 focus:outline-none\"\r\n                                                placeholder=\"Escribe un mensaje...\"\r\n                                                value={chatInput}\r\n                                                onChange={e => setChatInput(e.target.value)}\r\n                                                disabled={!selectedUser}\r\n                                            />\r\n                                            <button\r\n                                                className=\"bg-green-500 text-white px-4 py-2 rounded-r font-semibold\"\r\n                                                disabled={!selectedUser || !chatInput.trim()}\r\n                                                onClick={() => {\r\n                                                    if (selectedUser && chatInput.trim() && user && user.nick) {\r\n                                                        // Mensaje para emisor\r\n                                                        const mensaje = { from: user.nick, to: selectedUser, text: chatInput, fecha: new Date().toLocaleString('es-ES') };\r\n                                                        const mensajesEmisorStr = localStorage.getItem(`chat_${user.nick}`);\r\n                                                        let mensajesEmisor: { from: string, to: string, text: string, fecha?: string }[] = mensajesEmisorStr ? JSON.parse(mensajesEmisorStr) : [];\r\n                                                        mensajesEmisor = [...mensajesEmisor, mensaje].slice(-5);\r\n                                                        localStorage.setItem(`chat_${user.nick}`, JSON.stringify(mensajesEmisor));\r\n                                                        setChatMessages(mensajesEmisor);\r\n\r\n                                                        // Mensaje para receptor\r\n                                                        const mensajesReceptorStr = localStorage.getItem(`chat_${selectedUser}`);\r\n                                                        let mensajesReceptor: { from: string, to: string, text: string, fecha?: string }[] = mensajesReceptorStr ? JSON.parse(mensajesReceptorStr) : [];\r\n                                                        mensajesReceptor = [...mensajesReceptor, mensaje].slice(-5);\r\n                                                        localStorage.setItem(`chat_${selectedUser}`, JSON.stringify(mensajesReceptor));\r\n                                                        // Activar aviso para receptor\r\n                                                        localStorage.setItem(`chat_aviso_${selectedUser}`, \"1\");\r\n                                                        // Forzar actualizaci√≥n en la app del receptor\r\n                                                        window.dispatchEvent(new Event('storage'));\r\n\r\n                                                        setChatInput(\"\");\r\n                                                    }\r\n                                                }}\r\n                                            >{t('enviar')}</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* Solo los docentes ven los siguientes bloques debajo del chat */}\r\n                {user.tipo === \"docente\" && (\r\n                    <div className=\"w-full max-w-6xl mx-auto mt-20\">\r\n                        <div className=\"grid grid-cols-2 gap-12\">\r\n                            <div className=\"bg-white shadow-lg rounded-lg p-6\">\r\n                                <h3 className=\"text-xl font-bold text-center mb-2\">Crear noticia</h3>\r\n                                <form className=\"w-full flex flex-col gap-4\" onSubmit={handleNoticiaSubmit}>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"border rounded px-3 py-2 w-full\"\r\n                                        placeholder=\"T√≠tulo de la noticia\"\r\n                                        value={noticiaTitulo}\r\n                                        onChange={e => setNoticiaTitulo(e.target.value)}\r\n                                    />\r\n                                    <div className=\"relative w-full\">\r\n                                        <textarea\r\n                                            className=\"border rounded px-3 py-2 w-full min-h-[80px]\"\r\n                                            placeholder=\"Escribe la noticia aqu√≠...\"\r\n                                            value={noticiaTexto}\r\n                                            onChange={e => setNoticiaTexto(e.target.value)}\r\n                                        />\r\n                                        {noticiaImagen && (\r\n                                            <img src={noticiaImagen} alt=\"Previsualizaci√≥n\" className=\"absolute left-0 top-0 w-full h-full object-contain rounded shadow pointer-events-none\" style={{ zIndex: 1, opacity: 0.7 }} />\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-4 mt-2\">\r\n                                        <input\r\n                                            id=\"noticia-imagen\"\r\n                                            type=\"file\"\r\n                                            accept=\"image/*\"\r\n                                            className=\"hidden\"\r\n                                            onChange={e => {\r\n                                                const file = e.target.files?.[0];\r\n                                                if (file) {\r\n                                                    setNombreArchivo(file.name);\r\n                                                    const reader = new FileReader();\r\n                                                    reader.onload = (ev) => {\r\n                                                        setNoticiaImagen(ev.target?.result as string);\r\n                                                    };\r\n                                                    reader.readAsDataURL(file);\r\n                                                } else {\r\n                                                    setNombreArchivo(\"\");\r\n                                                    setNoticiaImagen(\"\");\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded font-semibold border\"\r\n                                            onClick={() => document.getElementById('noticia-imagen')?.click()}\r\n                                        >Seleccionar imagen</button>\r\n                                        <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded font-semibold\">Publicar noticia</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"bg-white shadow-lg rounded-lg p-6\">\r\n                                <h3 className=\"text-xl font-bold text-center mb-2\">Crear concurso</h3>\r\n                                <form className=\"w-full flex flex-col gap-4\" onSubmit={handleConcursoSubmit}>\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"border rounded px-3 py-2 flex-1\"\r\n                                            placeholder={t('titulo')}\r\n                                            value={concursoTitulo}\r\n                                            onChange={e => setConcursoTitulo(e.target.value)}\r\n                                        />\r\n                                        <span className=\"text-sm text-gray-500\">ID: {concursoId}</span>\r\n                                    </div>\r\n                                    <textarea\r\n                                        className=\"border rounded px-3 py-2 w-full min-h-[80px]\"\r\n                                        placeholder={t('descripcion')}\r\n                                        value={concursoTexto}\r\n                                        onChange={e => setConcursoTexto(e.target.value)}\r\n                                    />\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <div className=\"flex flex-col flex-1\">\r\n                                            <label className=\"text-sm mb-1\">{t('fechaInicio')}</label>\r\n                                            <input type=\"date\" className=\"border rounded px-3 py-2\" value={fechaInicio} onChange={e => setFechaInicio(e.target.value)} />\r\n                                        </div>\r\n                                        <div className=\"flex flex-col flex-1\">\r\n                                            <label className=\"text-sm mb-1\">{t('fechaFin')}</label>\r\n                                            <input type=\"date\" className=\"border rounded px-3 py-2\" value={fechaFin} onChange={e => setFechaFin(e.target.value)} />\r\n                                        </div>\r\n                                        <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded font-semibold\">{t('enviar')}</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        {/* Gesti√≥n de Concursos Finalizados - Solo para docentes */}\r\n                        <div className=\"w-full mt-6 pt-4 border-t border-gray-200\">\r\n                            <h4 className=\"text-lg font-semibold text-center mb-3 text-gray-700\">{t('gestionarConcursosFinalizados')}</h4>\r\n                            <div className=\"flex flex-col gap-3\">\r\n                                <select\r\n                                    className=\"border rounded px-3 py-2 text-sm\"\r\n                                    value={concursoSeleccionado}\r\n                                    onChange={e => setConcursoSeleccionado(e.target.value)}\r\n                                    key={`concurso-select-${refreshKey}`}\r\n                                >\r\n                                    <option value=\"\">{t('seleccionarConcurso')}</option>\r\n                                    {(() => {\r\n                                        const concursosStr = localStorage.getItem(\"concursos\");\r\n                                        const concursosArr = concursosStr ? JSON.parse(concursosStr) : [];\r\n                                        const hoy = new Date();\r\n                                        return concursosArr\r\n                                            .filter((c: any) => {\r\n                                                if (!c.fin) return false;\r\n                                                const fechaFin = new Date(c.fin);\r\n                                                const ahora = new Date();\r\n                                                // Solo mostrar concursos del docente actual que hayan finalizado y sin ganador\r\n                                                return fechaFin < ahora && c.autor === user.nick && !c.ganador;\r\n                                            })\r\n                                            .map((c: any) => (\r\n                                                <option key={c.numero} value={c.numero}>\r\n                                                    {c.titulo} (ID: {c.numero}) - {c.ganador ? `Ganador: ${c.ganador}` : 'Sin ganador'}\r\n                                                </option>\r\n                                            ));\r\n                                    })()}\r\n                                </select>\r\n                                <select\r\n                                    className=\"border rounded px-3 py-2 text-sm\"\r\n                                    value={ganadorSeleccionado}\r\n                                    onChange={e => setGanadorSeleccionado(e.target.value)}\r\n                                >\r\n                                    <option value=\"\">{t('seleccionarGanador')}</option>\r\n                                    {usuarios.sort((a, b) => a.nick.localeCompare(b.nick)).map((u, idx) => (\r\n                                        <option key={idx} value={u.nick}>{u.nick}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <button\r\n                                    className=\"bg-green-500 text-white px-4 py-2 rounded font-semibold text-sm\"\r\n                                    onClick={handleAsignarGanador}\r\n                                    disabled={!concursoSeleccionado || !ganadorSeleccionado}\r\n                                >\r\n                                    {t('asignarGanador')}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bg-white shadow-lg rounded-lg p-6 flex flex-col gap-4 mt-6\">\r\n                            <h3 className=\"text-xl font-bold text-center mb-2\">Agregar Pregunta - Aprende con Pipo</h3>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-blue-700 mb-2\">Curso:</label>\r\n                                    <select\r\n                                        value={cursoSeleccionado}\r\n                                        onChange={(e) => setCursoSeleccionado(e.target.value)}\r\n                                        className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    >\r\n                                        <option value=\"1primaria\">1¬∫ Primaria</option>\r\n                                        <option value=\"2primaria\">2¬∫ Primaria</option>\r\n                                        <option value=\"3primaria\">3¬∫ Primaria</option>\r\n                                        <option value=\"4primaria\">4¬∫ Primaria</option>\r\n                                        <option value=\"5primaria\">5¬∫ Primaria</option>\r\n                                        <option value=\"6primaria\">6¬∫ Primaria</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-blue-700 mb-2\">Asignatura:</label>\r\n                                    <select\r\n                                        value={asignaturaSeleccionada}\r\n                                        onChange={(e) => setAsignaturaSeleccionada(e.target.value)}\r\n                                        className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    >\r\n                                        <option value=\"campeonato\">Campeonato</option>\r\n                                        <option value=\"general\">General</option>\r\n                                        <option value=\"matematicas\">Matem√°ticas</option>\r\n                                        <option value=\"lenguaje\">Lenguaje</option>\r\n                                        <option value=\"literatura\">Literatura</option>\r\n                                        <option value=\"historia\">Historia</option>\r\n                                        <option value=\"geografia\">Geograf√≠a</option>\r\n                                        <option value=\"ingles\">Ingl√©s</option>\r\n                                        <option value=\"naturaleza\">Naturaleza</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-blue-700 mb-2\">Pregunta:</label>\r\n                                <textarea\r\n                                    value={pregunta}\r\n                                    onChange={(e) => setPregunta(e.target.value)}\r\n                                    placeholder=\"Escribe la pregunta aqu√≠...\"\r\n                                    className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-20 resize-none\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-blue-700 mb-2\">Respuesta:</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={respuesta}\r\n                                    onChange={(e) => setRespuesta(e.target.value)}\r\n                                    placeholder=\"Escribe la respuesta aqu√≠...\"\r\n                                    className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <button\r\n                                    onClick={enviarPregunta}\r\n                                    className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-8 py-3 rounded-lg font-bold hover:shadow-lg transform hover:scale-105 transition-all\"\r\n                                >\r\n                                    ‚úÖ Enviar Pregunta\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"mt-4 p-3 bg-blue-100 border border-blue-300 rounded\">\r\n                                <p className=\"text-sm text-blue-800\">\r\n                                    <strong>üí° Informaci√≥n:</strong> Las preguntas se agregan autom√°ticamente al archivo correspondiente\r\n                                    <code className=\"bg-blue-200 px-1 rounded\">{asignaturaSeleccionada}-{cursoSeleccionado}.json</code>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {/* Panel de administraci√≥n y antibullying solo para docentes */}\r\n                {\r\n                    user.tipo && user.tipo.toLowerCase() === \"docente\" && (\r\n                        <div className=\"w-full max-w-6xl mx-auto mt-16 bg-white shadow-lg rounded-lg p-6 flex flex-col items-center\">\r\n                            <div className=\"w-full\">\r\n                                <h3 className=\"text-xl font-bold mb-4 text-center\">{t('panelAdministracion')}</h3>\r\n                                <form className=\"w-full flex flex-col items-center gap-4\" onSubmit={handlePalabraProhibidaSubmit}>\r\n                                    <div className=\"flex w-full max-w-xs items-center gap-2\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"border rounded px-3 py-2 min-w-[280px] max-w-full\"\r\n                                            placeholder={t('palabraProhibida')}\r\n                                            value={palabraProhibida}\r\n                                            onChange={e => setPalabraProhibida(e.target.value)}\r\n                                        />\r\n                                        <button type=\"submit\" className=\"bg-red-500 text-white px-4 py-2 rounded font-semibold whitespace-nowrap\">Seleccionar</button>\r\n                                    </div>\r\n                                </form>\r\n                                <h4 className=\"text-lg font-semibold mt-6 text-center\">{t('sistemaAntibullying')}</h4>\r\n                                <div className=\"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-md text-gray-700 max-w-2xl mx-auto\">\r\n                                    <div className=\"flex flex-row items-start gap-8\">\r\n                                        <div className=\"flex-1\">\r\n                                            <p className=\"font-semibold mb-2\">{t('avisoAntibullying')}</p>\r\n                                            <ol className=\"list-decimal ml-6 space-y-1\">\r\n                                                <li>{t('historiasTerror')}</li>\r\n                                                <li>{t('perdidaLikes')}</li>\r\n                                                <li>{t('mensajesUsuario')}</li>\r\n                                                <li>{t('palabrasProhibidasChat')}</li>\r\n                                                <li>{t('actividadConsecutiva')}</li>\r\n                                            </ol>\r\n                                        </div>\r\n                                        <div className=\"flex flex-col items-center justify-center min-w-[180px]\">\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className={`relative w-32 h-32 rounded-full font-bold text-white text-lg mb-2 transition-all flex items-center justify-center ${bullyingActivo ? 'bg-red-600 opacity-100 shadow-lg animate-blink' : 'bg-green-600 opacity-40'}`}\r\n                                                disabled={!bullyingActivo}\r\n                                                onClick={handleApagarBullying}\r\n                                            >\r\n                                                {bullyingActivo ? 'Aviso Antibullying' : t('sinPeligro')}\r\n                                                <span className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\r\n                                                    <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 100 100\" className=\"opacity-70\">\r\n                                                        <line x1=\"10\" y1=\"10\" x2=\"90\" y2=\"90\" stroke=\"white\" strokeWidth=\"10\" />\r\n                                                        <line x1=\"90\" y1=\"10\" x2=\"10\" y2=\"90\" stroke=\"white\" strokeWidth=\"10\" />\r\n                                                    </svg>\r\n                                                </span>\r\n                                            </button>\r\n                                            {usuarioBullying && (\r\n                                                <div className=\"text-center text-red-700 font-semibold text-base\">{usuarioBullying}</div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n                {/* Bloque especial para PIPO68(Admin) */}\r\n                {\r\n                    user.nick === \"PIPO68\" && (\r\n                        <div className=\"w-full max-w-2xl mx-auto mt-16 bg-blue-50 border-l-4 border-blue-400 p-2 rounded-md text-blue-700\">\r\n                            <h4 className=\"text-lg font-bold text-center mb-2\">Solo para PIPO68(Admin)</h4>\r\n                            <div className=\"flex flex-col gap-2 items-center\">\r\n                                <label htmlFor=\"admin-user-select\" className=\"font-semibold\">Selecciona usuario:</label>\r\n                                <select\r\n                                    id=\"admin-user-select\"\r\n                                    className=\"border rounded px-3 py-2 w-full max-w-xs\"\r\n                                    value={selectedUser}\r\n                                    onChange={e => setSelectedUser(e.target.value)}\r\n                                >\r\n                                    <option value=\"\">Selecciona un usuario</option>\r\n                                    {usuarios\r\n                                        .filter((u, i, arr) => arr.findIndex(x => x.nick === u.nick) === i)\r\n                                        .sort((a, b) => a.nick.localeCompare(b.nick))\r\n                                        .map((u: any) => (\r\n                                            <option key={u.nick} value={u.nick}>{u.nick}</option>\r\n                                        ))}\r\n                                </select>\r\n                                <div className=\"flex gap-4 mt-1\">\r\n                                    <button\r\n                                        className=\"bg-pink-500 text-white px-4 py-2 rounded font-semibold\"\r\n                                        disabled={!selectedUser}\r\n                                        onClick={() => selectedUser && updateLikes(selectedUser, 1)}\r\n                                    >A√±adir like</button>\r\n                                </div>\r\n                                {/* Selector de trofeos para desbloquear */}\r\n                                <div className=\"flex flex-col gap-1 mt-2 w-full max-w-xs\">\r\n                                    <label className=\"font-semibold\">Desbloquear trofeo:</label>\r\n                                    <select\r\n                                        className=\"border-2 border-blue-500 bg-white rounded px-3 py-2\"\r\n                                        value={trofeoSeleccionado}\r\n                                        onChange={e => setTrofeoSeleccionado(e.target.value)}\r\n                                    >\r\n                                        <option value=\"\">Selecciona trofeo</option>\r\n                                        {TROFEOS.map((trofeo, idx) => (\r\n                                            <option key={\"normal-\" + (idx + 1)} value={\"normal-\" + (idx + 1)}>{`Trofeo #${idx + 1} - ${trofeo.texto}`}</option>\r\n                                        ))}\r\n                                        {TROFEOS_PREMIUM.map((trofeo, idx) => (\r\n                                            <option key={\"premium-\" + (idx + 1)} value={\"premium-\" + (idx + 1)}>{`Premium #${idx + 1} - ${trofeo.texto}`}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                    <button\r\n                                        className=\"bg-yellow-500 text-white px-4 py-2 rounded font-semibold mt-1\"\r\n                                        disabled={!selectedUser || trofeoSeleccionado === \"\"}\r\n                                        onClick={() => {\r\n                                            if (trofeoSeleccionado.startsWith(\"normal-\")) {\r\n                                                handleUnlockTrofeo(Number(trofeoSeleccionado.replace(\"normal-\", \"\")) - 1);\r\n                                            } else if (trofeoSeleccionado.startsWith(\"premium-\")) {\r\n                                                handleUnlockTrofeo(24 + Number(trofeoSeleccionado.replace(\"premium-\", \"\")) - 1);\r\n                                            }\r\n                                        }}\r\n                                    >\r\n                                        Desbloquear trofeo\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"bg-red-500 text-white px-4 py-2 rounded font-semibold mt-1\"\r\n                                        disabled={!selectedUser || trofeoSeleccionado === \"\"}\r\n                                        onClick={() => {\r\n                                            if (trofeoSeleccionado.startsWith(\"normal-\")) {\r\n                                                handleLockTrofeo(Number(trofeoSeleccionado.replace(\"normal-\", \"\")) - 1);\r\n                                            } else if (trofeoSeleccionado.startsWith(\"premium-\")) {\r\n                                                handleLockTrofeo(24 + Number(trofeoSeleccionado.replace(\"premium-\", \"\")) - 1);\r\n                                            }\r\n                                        }}\r\n                                    >\r\n                                        Bloquear trofeo\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div >\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PerfilUsuario;\r\n","// Archivo para importar y transformar trofeos premium desde el JSON\r\nimport trofeosPremium from './trofeos-premium.json';\r\n\r\nexport const TROFEOS_PREMIUM = trofeosPremium.map(t => ({\r\n    src: t.imagen,\r\n    texto: `${t.titulo}\\n${t.descripcion}`,\r\n    tipo: 'manual'\r\n}));\r\n"],"names":[],"mappings":"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"}