{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/src/app/liga-premium/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface UsuarioPremium {\r\n    nick: string;\r\n    avatar?: string;\r\n    puntos: number;\r\n    historiasCreadas: number;\r\n    preguntasAcertadas: number;\r\n    amigos: number;\r\n    medallas: number;\r\n}\r\n\r\nconst LigaPremiumPage: React.FC = () => {\r\n    const router = useRouter();\r\n    const [usuarioActual, setUsuarioActual] = useState<any>(null);\r\n    const [isPremium, setIsPremium] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [usuariosPremium, setUsuariosPremium] = useState<UsuarioPremium[]>([]);\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== \"undefined\") {\r\n            const userData = localStorage.getItem('currentUser') || localStorage.getItem('user');\r\n            if (userData) {\r\n                const user = JSON.parse(userData);\r\n                setUsuarioActual(user);\r\n\r\n                // Verificar si es premium\r\n                const premiumInfo = localStorage.getItem(`premium_${user.nick}`);\r\n                if (premiumInfo) {\r\n                    const premium = JSON.parse(premiumInfo);\r\n                    if (new Date(premium.expiracion) > new Date()) {\r\n                        setIsPremium(true);\r\n                        cargarLigaPremium();\r\n                    } else {\r\n                        alert('Tu suscripci√≥n Premium ha expirado. Renueva para acceder a la Liga Premium.');\r\n                        router.push('/premium-nuevo');\r\n                    }\r\n                } else {\r\n                    alert('Esta funci√≥n es exclusiva para usuarios Premium.');\r\n                    router.push('/premium-nuevo');\r\n                }\r\n            } else {\r\n                router.push('/');\r\n            }\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const cargarLigaPremium = () => {\r\n        if (typeof window === \"undefined\") return;\r\n\r\n        const usersStr = localStorage.getItem(\"users\");\r\n        if (!usersStr) return;\r\n\r\n        const users = JSON.parse(usersStr);\r\n        const premiumUsers: UsuarioPremium[] = [];\r\n\r\n        users.forEach((user: any) => {\r\n            const premiumInfo = localStorage.getItem(`premium_${user.nick}`);\r\n            if (premiumInfo) {\r\n                const premium = JSON.parse(premiumInfo);\r\n                if (new Date(premium.expiracion) > new Date()) {\r\n                    // Calcular puntos basados en actividades premium\r\n                    const puntos = calcularPuntosUsuario(user);\r\n                    premiumUsers.push({\r\n                        nick: user.nick,\r\n                        avatar: user.avatar,\r\n                        puntos: puntos,\r\n                        historiasCreadas: user.historiasCreadas || 0,\r\n                        preguntasAcertadas: user.preguntasAcertadas || 0,\r\n                        amigos: user.amigos?.length || 0,\r\n                        medallas: user.medallas?.length || 0\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n        // Ordenar por puntos descendente\r\n        premiumUsers.sort((a, b) => b.puntos - a.puntos);\r\n        setUsuariosPremium(premiumUsers);\r\n    };\r\n\r\n    const calcularPuntosUsuario = (user: any): number => {\r\n        let puntos = 0;\r\n\r\n        // Puntos por historias creadas (10 puntos cada una)\r\n        puntos += (user.historiasCreadas || 0) * 10;\r\n\r\n        // Puntos por preguntas acertadas (5 puntos cada una)\r\n        puntos += (user.preguntasAcertadas || 0) * 5;\r\n\r\n        // Puntos por amigos (20 puntos cada amigo)\r\n        puntos += (user.amigos?.length || 0) * 20;\r\n\r\n        // Puntos por medallas (50 puntos cada medalla)\r\n        puntos += (user.medallas?.length || 0) * 50;\r\n\r\n        // Puntos por participaci√≥n en competiciones premium\r\n        const competicionesPremium = localStorage.getItem(`competiciones_premium_${user.nick}`);\r\n        if (competicionesPremium) {\r\n            const comps = JSON.parse(competicionesPremium);\r\n            puntos += comps.puntuacionTotal || 0; // Puntuaci√≥n total de torneos\r\n        }\r\n\r\n        return puntos;\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 flex items-center justify-center\">\r\n                <div className=\"text-white text-xl\">Cargando Liga Premium...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!isPremium) {\r\n        return null; // Ya redirigi√≥\r\n    }\r\n\r\n    const posicionUsuario = usuariosPremium.findIndex(u => u.nick === usuarioActual.nick) + 1;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 p-8\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                {/* Header */}\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-4xl font-bold text-white mb-2\">üèÜ Liga Premium Exclusiva</h1>\r\n                    <p className=\"text-yellow-100 text-lg\">Compite con los mejores usuarios Premium</p>\r\n                </div>\r\n\r\n                {/* Tu posici√≥n */}\r\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8 text-center\">\r\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Tu Posici√≥n</h2>\r\n                    <div className=\"text-6xl font-bold text-yellow-300\">#{posicionUsuario}</div>\r\n                    <div className=\"text-yellow-100 mt-2\">\r\n                        {usuariosPremium.find(u => u.nick === usuarioActual.nick)?.puntos || 0} puntos\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tabla de clasificaci√≥n */}\r\n                <div className=\"bg-white rounded-lg shadow-xl overflow-hidden\">\r\n                    <div className=\"bg-gradient-to-r from-yellow-500 to-orange-500 p-4\">\r\n                        <h3 className=\"text-xl font-bold text-white text-center\">üèÖ Clasificaci√≥n Premium</h3>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full\">\r\n                            <thead className=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Posici√≥n</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Usuario</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Puntos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Historias</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Aciertos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Amigos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Medallas</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                {usuariosPremium.slice(0, 20).map((usuario, index) => (\r\n                                    <tr key={usuario.nick} className={usuario.nick === usuarioActual.nick ? 'bg-yellow-50' : ''}>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                            <div className=\"flex items-center\">\r\n                                                <div className={`text-lg font-bold ${index === 0 ? 'text-yellow-500' :\r\n                                                    index === 1 ? 'text-gray-400' :\r\n                                                        index === 2 ? 'text-orange-600' :\r\n                                                            'text-gray-600'\r\n                                                    }`}>\r\n                                                    #{index + 1}\r\n                                                </div>\r\n                                                {index < 3 && (\r\n                                                    <span className=\"ml-2\">\r\n                                                        {index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : 'ü•â'}\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                            <div className=\"flex items-center\">\r\n                                                <div className=\"flex-shrink-0 h-10 w-10\">\r\n                                                    <img\r\n                                                        className=\"h-10 w-10 rounded-full\"\r\n                                                        src={usuario.avatar || '/avatars/simple1.png'}\r\n                                                        alt={usuario.nick}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"ml-4\">\r\n                                                    <div className=\"text-sm font-medium text-gray-900\">\r\n                                                        {usuario.nick}\r\n                                                        {usuario.nick === usuarioActual.nick && (\r\n                                                            <span className=\"ml-2 text-yellow-500\">(T√∫)</span>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 font-bold\">\r\n                                            {usuario.puntos.toLocaleString()}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.historiasCreadas}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.preguntasAcertadas}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.amigos}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.medallas}\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* C√≥mo ganar puntos */}\r\n                <div className=\"mt-8 bg-white/10 backdrop-blur-sm rounded-lg p-6\">\r\n                    <h3 className=\"text-xl font-bold text-white mb-4\">üí° C√≥mo ganar puntos en la Liga Premium</h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-yellow-100\">\r\n                        <div>\r\n                            <strong>üìñ Historias creadas:</strong> 10 puntos cada una<br />\r\n                            <strong>‚úÖ Preguntas acertadas:</strong> 5 puntos cada una<br />\r\n                            <strong>üë• Amigos:</strong> 20 puntos cada amigo<br />\r\n                        </div>\r\n                        <div>\r\n                            <strong>üèÖ Medallas:</strong> 50 puntos cada medalla<br />\r\n                            <strong>üéØ Torneos Premium:</strong> Puntuaci√≥n total de torneos<br />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Bot√≥n volver */}\r\n                <div className=\"text-center mt-8\">\r\n                    <button\r\n                        onClick={() => router.push('/premium-nuevo')}\r\n                        className=\"bg-white text-yellow-600 px-8 py-3 rounded-lg font-bold hover:bg-yellow-50 transition-colors\"\r\n                    >\r\n                        ‚Üê Volver a Premium\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LigaPremiumPage;"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}