module.exports=[68384,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.s(["default",0,({userGrade:d,userSchool:e})=>{let[f,g]=c.default.useState(""),[h,i]=c.default.useState(""),[j,k]=c.default.useState(""),[l,m]=c.default.useState(""),[n,o]=c.default.useState([]),[p,q]=c.default.useState(300),[r,s]=c.default.useState(!1);c.default.useEffect(()=>{if(!f||r)return;if(0===p){s(!0),m("â° Tiempo agotado. No puedes responder esta pregunta. -3 likes");return}let a=setTimeout(()=>q(p-1),1e3);return()=>clearTimeout(a)},[p,f,r]);let t=[];try{t=a.f({"../questions/campeonato-1primaria.json":{id:()=>5251,module:()=>a.r(5251)},"../questions/campeonato-2primaria.json":{id:()=>31668,module:()=>a.r(31668)},"../questions/campeonato-3primaria.json":{id:()=>85700,module:()=>a.r(85700)},"../questions/campeonato-4primaria.json":{id:()=>8433,module:()=>a.r(8433)},"../questions/campeonato-5primaria.json":{id:()=>59447,module:()=>a.r(59447)},"../questions/campeonato-6primaria.json":{id:()=>6959,module:()=>a.r(6959)}})(`../questions/campeonato-${d}primaria.json`)}catch{t=[]}return(0,b.jsxs)("div",{className:"p-4 bg-yellow-100 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Modo Campeonato"}),(0,b.jsxs)("p",{children:["Curso seleccionado: ",d,"Âº Primaria"]}),(0,b.jsxs)("p",{children:["Centro escolar: ",e||"No especificado"]}),(0,b.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded mt-2",onClick:function(){if(n.length>=25){g(""),i(""),m("Â¡Has completado las 25 preguntas del campeonato!"),s(!0);let a=localStorage.getItem("respuestas_campeonato_"),b=a?JSON.parse(a):[],c=b.filter(a=>a.correcta).length,d=b.filter(a=>!a.correcta).length,e=b.reduce((a,b)=>a+(b.likes||0),0),f=new Date,h=f.getFullYear();f.getMonth()+1>=10&&(h+=1);let j=`t${h}`,k=`campeonato_individual_${j}`,l={};try{l=JSON.parse(localStorage.getItem(k)||"{}")}catch{l={}}l[""]&&(l[""].acertadas,l[""].falladas,l[""].likes,l[""].ganado,l[""].perdido);let n=`campeonato_centros_${j}`,o={};try{o=JSON.parse(localStorage.getItem(n)||"{}")}catch{o={}}localStorage.setItem(n,JSON.stringify(o));let p=`campeonato_docentes_${j}`,q={};try{q=JSON.parse(localStorage.getItem(p)||"{}")}catch{q={}}localStorage.setItem(p,JSON.stringify(q));return}q(300),s(!1);let a=t.filter(a=>!n.includes(a.pregunta));if(0===a.length){g(""),i(""),m("Â¡No hay mÃ¡s preguntas disponibles en el banco!"),s(!0);return}let b=Math.floor(Math.random()*a.length);g(a[b].pregunta),i(a[b].respuesta),k(""),m(""),o([...n,a[b].pregunta])},children:"Generar pregunta de campeonato"}),f&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"font-semibold mb-2",children:f}),(0,b.jsxs)("div",{className:"font-bold text-lg mb-2",children:["â° Tiempo: ",Math.floor(p/60),":",(p%60).toString().padStart(2,"0")," min"]}),(0,b.jsx)("input",{type:"text",className:"border rounded px-2 py-1 w-full mb-2",value:j,onChange:a=>k(a.target.value),placeholder:"Escribe tu respuesta aquÃ­",disabled:r}),(0,b.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:function(){function a(a){return a.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/\s+/g,"").trim()}if(r)return;let b=a(j)===a(h);s(!0);b?m("Â¡Correcto! ðŸŽ‰"):m(`Incorrecto. La respuesta era: ${h}`)},disabled:r,children:"Enviar respuesta"}),l&&(0,b.jsx)("div",{className:"mt-2 font-bold",children:l})]}),l&&!f&&(0,b.jsx)("div",{className:"mt-2 font-bold text-red-600",children:l})]})}])}];

//# sourceMappingURL=src_components_ChampionshipQuiz_tsx_7116ac0b._.js.map