(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35924,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(88379);let r=e=>null==e?"":"string"==typeof e?e:"number"==typeof e?String(e):"object"==typeof e?e.nombre||e.titulo||e.descripcion||JSON.stringify(e):String(e),i=e=>e?"string"==typeof e?{nombre:e,descripcion:e,emoji:"",tipo:""}:"object"==typeof e?{nombre:e.nombre||e.tipo||"",descripcion:e.descripcion||e.bonus||"",emoji:e.emoji||"",tipo:e.tipo||"",multiplicador:e.multiplicador||null}:null:null;var n=e.i(56095);function l(){let e,l,[o,c]=(0,s.useState)(!0),[d,m]=(0,s.useState)([]),[x,g]=(0,s.useState)([]),[u,p]=(0,s.useState)(""),[h,b]=(0,s.useState)("actual"),[j,N]=(0,s.useState)("actual"),[f,v]=(0,s.useState)(""),y=new Date,{t:w}=(0,a.useTranslation)(),[S,C]=(0,s.useState)([]),[L,A]=(0,s.useState)([]),[k,M]=(0,s.useState)([]),[$,D]=(0,s.useState)(null),[E,P]=(0,s.useState)([]),[T,I]=(0,s.useState)(!1),[R,z]=(0,s.useState)(""),[F,V]=(0,s.useState)(null),[G,H]=(0,s.useState)("todas"),[O,_]=(0,s.useState)(!0),[Y,J]=(0,s.useState)("todos"),B=(e,t=7)=>{let s=e.likes>0||e.historiasCreadas>0||e.concursosGanados>0,a=e.amigos&&e.amigos.length>0,r=e.comentariosRecibidos>0;return s||a||r},U=e=>{if(!e||"string"!=typeof e)return"logo-pipo.jpg";let t={Aguere:"Aguere.jpg","Angeles Bermejo":"Angeles Bermejo.jpg",Aregume:"Aregume.jpg","Buen Consejo":"Buen Consejo.png","Camino La Villa":"Camino La Villa.jpg","Camino Largo":"Camino Largo.jpg","Casa Azul":"Casa Azul.png",Chamberi:"Chamberi.png",Chayofa:"Chayofa.png","Cisneros Alter":"Cisneros Alter.jpg","Colegio Cervantes":"Colegio Cervantes.jpg","Costa Adeje I":"Costa Adeje I..jpg","Cuesta 25 de Julio":"Cuesta 25 de Julio.jpg","Dominguez Alfonso":"Dominguez Alfonso.jpg","Echeyde Arona":"Echeyde Arona.png","Echeyde La Laguna":"Echeyde La Laguna.png","El Monte":"El Monte.png","Escuela Rural":"Escuela Rural.png","Escuelas Pias":"Escuelas Pias.jpg","Gobierno de Canarias":"Gobierno de Canarias (Educacion).jpg","Hispano La Salud":"Hispano La Salud.png","La Cuesta B.N":"La Cuesta B.N.jpg","La Higuerita":"La Higuerita.jpg","La Rosa":"La Rosa.png","La Salle":"La Salle.png","La Vega":"La Vega.jpg","La Verdellada":"La Verdellada.jpg","Los Alisios":"Los Alisios.jpg","Los Menceyes":"Los Menceyes.jpg","Luis Alvarez Cruz":"Luis Alvarez Cruz.jpg","Luther King":"Luther King.jpg",Mayex:"Mayex.jpg",Montessori:"Montessori.png",Nuryana:"Nuryana.jpg","Punta Larga":"Punta Larga.jpg","Pureza de Maria":"Pureza de Maria.png",Ravelo:"Ravelo.jpg","Rodriguez Alberto":"Rodriguez Alberto.jpg","Rodriguez Campos":"Rodriguez Campos.png","Saint Andrew's":"avatars/Saint Andrews.jpg","Saint Andrews":"avatars/Saint Andrews.jpg",Salesianas:"Salesianas.jpg","San Agustin":"San Agustin.jpg","San Fernando":"San Fernando.jpg","San Isidro":"San Isidro.jpg","San Pablo":"San Pablo.png","Santa Catalina de Siena":"Santa Catalina de Siena.jpg","Santa Cruz de California":"Santa Cruz de California.jpg","Santa Maria del Mar":"Santa Maria del Mar.jpg","Santa Rosa de Lima":"Santa Rosa de Lima.jpg",Tacoronte:"Tacoronte.jpg",Tagoror:"Tagoror.jpg","Teofilo Perez":"Teofilo Perez.png",Tincer:"Tincer.jpg","Virgen de Fatima":"Virgen de Fatima.jpg","Virgen del Mar":"Virgen del Mar.png"};if(t[e])return t[e];if("string"!=typeof e||!e)return"logo-pipo.jpg";let s=e.toLowerCase().trim();for(let[e,a]of Object.entries(t))if(s.includes(e.toLowerCase())||e.toLowerCase().includes(s))return a;return"logo-pipo.jpg"},K=e=>e.includes(".jpg")||e.includes(".png")||e.includes(".jpeg"),q=()=>{let e=new Date,t=e.getFullYear(),s=e.getMonth()+1,a=`premios_mensuales_${t}_${s.toString().padStart(2,"0")}`,i=s-1,n=t;0===i&&(i=12,n=t-1);let l=`premios_mensuales_${n}_${i.toString().padStart(2,"0")}`;if(!localStorage.getItem(l)){let e=W(i,n);if(e.length>0)try{localStorage.setItem(a,JSON.stringify(e))}catch(e){}}let o=localStorage.getItem(a);if(o)try{let e=JSON.parse(o),t=e.map(e=>{let t=e?.premio;if("object"==typeof t&&null!==t){let s=r(t);return{...e,premio:s}}return e});if(t.some((t,s)=>"object"==typeof e[s]?.premio&&e[s]?.premio!==null)&&!localStorage.getItem(`${a}_migrated_v1`))try{localStorage.setItem(a,JSON.stringify(t)),localStorage.setItem(`${a}_migrated_v1`,"true")}catch(e){}return t}catch(e){}return[]},W=(e,t)=>{let s=new Date,a=e||s.getMonth()+1,r=ee(t||s.getFullYear(),a);if(0===r.length)return[];let i=[{posicion:1,emoji:"ðŸ¥‡",titulo:"1er lugar",premio:"Trofeo digital especial",descripcion:"Trofeo exclusivo del mes + 100 puntos extra",centro:r[0]?.nombre||"",puntosExtra:100},{posicion:2,emoji:"ðŸ¥ˆ",titulo:"2do lugar",premio:"Certificado de honor",descripcion:"Certificado digital de excelencia",centro:r[1]?.nombre||"",puntosExtra:50},{posicion:3,emoji:"ðŸ¥‰",titulo:"3er lugar",premio:"MenciÃ³n especial",descripcion:"MenciÃ³n honorÃ­fica en el ranking",centro:r[2]?.nombre||"",puntosExtra:25}];for(let e=3;e<Math.min(10,r.length);e++)i.push({posicion:e+1,emoji:"ðŸ†",titulo:`Top ${e+1}`,premio:"Badge exclusivo",descripcion:`Badge especial "Top ${e+1}" del mes`,centro:r[e]?.nombre||"",puntosExtra:10});return r.forEach((e,t)=>{t>=10&&i.push({posicion:t+1,emoji:"ðŸ“š",titulo:"ParticipaciÃ³n",premio:"Reconocimiento",descripcion:"Reconocimiento por participaciÃ³n activa",centro:e.nombre,puntosExtra:5})}),i},Q=e=>q().find(t=>t.centro===e),X=()=>{let e=new Date,t=e.getFullYear(),s=e.getMonth(),a=e.getDate(),r=new Date(t,s+1,0).getDate();return{diasRestantes:r-a+1,progresoDelMes:Math.round(a/r*100),nombreProximoMes:new Date(t,s+1,1).toLocaleDateString("es-ES",{month:"long",year:"numeric"})}},Z=(e,t)=>`centros_ranking_${e}_${t.toString().padStart(2,"0")}`,ee=(e,t)=>{let s=Z(e,t),a=localStorage.getItem(s);if(a)try{return JSON.parse(a).centros||[]}catch(e){}return[]},et=()=>{let e=[],t=new Date;for(let s=0;s<12;s++){let a=new Date(t);a.setMonth(a.getMonth()-s);let r=ee(a.getFullYear(),a.getMonth()+1);if(r.length>0&&r[0]){let t=r[0];e.push({aÃ±o:a.getFullYear(),mes:a.toLocaleDateString("es-ES",{month:"long"}),centro:t.nombre||"Centro Desconocido",puntaje:t.puntajeTotal||0,ranking:1})}}return e},es=e=>e.map((e,t)=>{let s="";return s=0===t?"ðŸ¥‡":1===t?"ðŸ¥ˆ":2===t?"ðŸ¥‰":t<10?"ðŸ†":"ðŸ“š",{...e,ranking:t+1,medalla:s}});(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("currentUser")||localStorage.getItem("user");if(e){let t=JSON.parse(e);D(t),p(t.centro||"")}let t=(()=>{let e=[],t=new Date,s=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}`;e.push(s);for(let s=1;s<=12;s++){let a=new Date(t);a.setMonth(a.getMonth()-s);let r=Z(a.getFullYear(),a.getMonth()+1);if(localStorage.getItem(r)){let t=`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}`;e.push(t)}}return e})();C(t);let s=et();A(s);let a=[];try{let e=await fetch("/api/users");e.ok?(a=await e.json(),P(a)):(console.error("Error al cargar usuarios:",e.status),P([]))}catch(e){console.error("Error al conectar con la API:",e),P([])}if(0===a.length)return void c(!1);if("todas"!==G){let e={MatemÃ¡ticas:"matematicas",Historia:"historia",GeografÃ­a:"geografia",Literatura:"literatura",InglÃ©s:"ingles",Naturaleza:"naturaleza",Lenguaje:"lenguaje",General:"general"}[G]||G.toLowerCase(),t=!1;for(let s=0;s<localStorage.length;s++){let a=localStorage.key(s);if(a&&a.startsWith(`${e}_`)){let e=localStorage.getItem(a);if(e&&parseInt(e,10)>0){t=!0;break}}}_(t)}else _(!0);let r=[...new Set(a.filter(e=>e.centro&&""!==e.centro.trim()).map(e=>e.centro))].map(e=>((e,t)=>{let s,a,r,i,n=t.filter(t=>t.centro===e&&"docente"!==t.tipo),l=t.filter(t=>t.centro===e&&"docente"===t.tipo),o=n.filter(e=>B(e)).length,c=l.filter(e=>B(e)).length;if("todas"!==G){let o,c=(o={},"todas"===G?{}:(t.forEach(e=>{if(!e.centro||Y&&"todos"!==Y&&e.curso!==Y)return;let t=e.centro;o[t]||(o[t]=0);let s={MatemÃ¡ticas:"matematicas",Historia:"historia",GeografÃ­a:"geografia",Literatura:"literatura",InglÃ©s:"ingles",Naturaleza:"naturaleza",Lenguaje:"lenguaje",General:"general"}[G]||G.toLowerCase(),a=`${s}_${e.nick}`,r=localStorage.getItem(a);r&&parseInt(r,10)>0&&(o[t]+=parseInt(r,10))}),o))[e]||0;s=c,0===c&&(s=n.reduce((e,t)=>e+(Number(t.respuestasAcertadas)||0),0)+l.reduce((e,t)=>e+(Number(t.respuestasAcertadas)||0),0)),a=n.reduce((e,t)=>e+(Number(t.concursosGanados)||0),0)+l.reduce((e,t)=>e+(Number(t.concursosGanados)||0),0),r=n.reduce((e,t)=>e+(Array.isArray(t.historias)?t.historias.length:Number(t.historiasCreadas)||0),0)+l.reduce((e,t)=>e+(Array.isArray(t.historias)?t.historias.length:Number(t.historiasCreadas)||0),0),i=n.reduce((e,t)=>e+(Number(t.likes)||0)+(t.amigos?.length||0)+(Number(t.comentariosRecibidos)||0),0)+l.reduce((e,t)=>e+(Number(t.likes)||0)+(t.amigos?.length||0)+(Number(t.comentariosRecibidos)||0),0)}else{let e=n.reduce((e,t)=>e+(Number(t.respuestasAcertadas)||0),0),t=n.reduce((e,t)=>e+(Number(t.concursosGanados)||0),0),o=n.reduce((e,t)=>e+(Array.isArray(t.historias)?t.historias.length:Number(t.historiasCreadas)||0),0),c=n.reduce((e,t)=>e+(Number(t.likes)||0)+(t.amigos?.length||0)+(Number(t.comentariosRecibidos)||0),0),d=l.reduce((e,t)=>e+(Number(t.respuestasAcertadas)||0),0),m=l.reduce((e,t)=>e+(Number(t.concursosGanados)||0),0),x=l.reduce((e,t)=>e+(Array.isArray(t.historias)?t.historias.length:Number(t.historiasCreadas)||0),0),g=l.reduce((e,t)=>e+(Number(t.likes)||0)+(t.amigos?.length||0)+(Number(t.comentariosRecibidos)||0),0);s=e+d,a=t+m,r=o+x,i=c+g}let d=(e=>{try{let t=0,s=new Date().getFullYear();["1primaria","2primaria","3primaria","4primaria","5primaria","6primaria"].forEach(a=>{let r=`campeonato_individual_t${s}`,i=localStorage.getItem(r);if(i)try{let s=JSON.parse(i);Object.keys(s).forEach(a=>{let r=localStorage.getItem("users");if(r){let i=JSON.parse(r).find(e=>e.nick.toLowerCase().replace(/\s+/g,"")===a);if(i&&i.centro===e){let e=s[a];t+=10*(Number(e.ganados)||0)+2*(Number(e.acertadas)||Number(e.preguntasAcertadas)||0)}}})}catch(e){}});let a=`campeonato_docentes_t${s}`,r=localStorage.getItem(a);if(r)try{let s=JSON.parse(r);Object.keys(s).forEach(a=>{let r=localStorage.getItem("users");if(r){let i=JSON.parse(r).find(e=>e.nick.toLowerCase().replace(/\s+/g,"")===a);if(i&&i.centro===e&&"docente"===i.tipo){let e=s[a];t+=15*(Number(e.ganados)||0)+3*(Number(e.acertadas)||Number(e.preguntasAcertadas)||0)+5*(Number(e.likes)||0)}}})}catch(e){}return t}catch(e){return 0}})(e),m=Q(e),x=10*o+20*c+5*s+50*a+15*r+2*i+d+(m&&Number(m.puntosExtra)||0);return{nombre:e,estudiantes:n.length+l.length,estudiantesActivos:o+c,respuestasCorrectas:s,concursosGanados:a,historiasCreadas:r,interaccionesSociales:i,diasConsecutivos:0,puntajeTotal:Number(x)||0,ranking:0,medalla:""}})(e,a)).sort((e,t)=>t.puntajeTotal-e.puntajeTotal),i=es(r);if("anual"===j){let e=(()=>{let e=new Date().getFullYear(),t={};for(let s=1;s<=12;s++)ee(e,s).forEach(e=>{t[e.nombre]||(t[e.nombre]={...e,puntajeTotal:0,ranking:0}),t[e.nombre].puntajeTotal+=Number(e.puntajeTotal)||0,t[e.nombre].respuestasCorrectas+=Number(e.respuestasCorrectas)||0,t[e.nombre].concursosGanados+=Number(e.concursosGanados)||0,t[e.nombre].historiasCreadas+=Number(e.historiasCreadas)||0,t[e.nombre].interaccionesSociales+=Number(e.interaccionesSociales)||0});return es(Object.values(t).sort((e,t)=>t.puntajeTotal-e.puntajeTotal))})();g(e)}else if(f&&t.includes(f)){let e=f.split(" "),t=e[0],s=parseInt(e[1])||y.getFullYear(),a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].indexOf(t)+1;if(a>0){let e=ee(s,a);e.length>0?m(e):m(i)}else m(i)}else{let e,t,s;m(i),e=new Date,t=Z(e.getFullYear(),e.getMonth()+1),s={fecha:e.toISOString(),aÃ±o:e.getFullYear(),mes:e.getMonth()+1,centros:i,ganador:i[0]?.nombre||"N/A"},localStorage.setItem(t,JSON.stringify(s))}A(et()),M(q()),c(!1)}catch(e){c(!1)}})()},[j,f,G,Y]),(0,s.useEffect)(()=>{let e,t,s,a=(()=>{let e=new Date,t=e.getMonth()+1,s=e.getDate();for(let a of(e.getFullYear(),[{inicio:{mes:6,dia:15},fin:{mes:9,dia:15},tipo:"Vacaciones de Verano",emoji:"ðŸ–ï¸",multiplicador:1.5},{inicio:{mes:12,dia:20},fin:{mes:1,dia:7},tipo:"Vacaciones de Navidad",emoji:"ðŸŽ„",multiplicador:1.3},{inicio:{mes:3,dia:20},fin:{mes:4,dia:5},tipo:"Vacaciones de Semana Santa",emoji:"ðŸ°",multiplicador:1.2},{inicio:{mes:10,dia:31},fin:{mes:11,dia:2},tipo:"Puente de Halloween",emoji:"ðŸŽƒ",multiplicador:1.1},{inicio:{mes:12,dia:6},fin:{mes:12,dia:8},tipo:"Puente de la ConstituciÃ³n",emoji:"ðŸ‡ªðŸ‡¸",multiplicador:1.1}]))if(a.inicio.mes===a.fin.mes?t===a.inicio.mes&&s>=a.inicio.dia&&s<=a.fin.dia:12===a.inicio.mes&&1===a.fin.mes?12===t&&s>=a.inicio.dia||1===t&&s<=a.fin.dia:t===a.inicio.mes&&s>=a.inicio.dia||t===a.fin.mes&&s<=a.fin.dia||t>a.inicio.mes&&t<a.fin.mes)return{esVacacion:!0,tipo:a.tipo,evento:{emoji:a.emoji,multiplicador:a.multiplicador,descripcion:`Durante ${a.tipo.toLowerCase()}, \xa1los puntos se multiplican por ${a.multiplicador}!`}};return{esVacacion:!1,tipo:"",evento:null}})();I(a.esVacacion),z(a.tipo);let r=null;a.esVacacion&&a.evento&&(r=i({nombre:a.tipo,descripcion:a.evento.descripcion||"",emoji:a.evento.emoji||"",tipo:"vacacion",multiplicador:a.evento.multiplicador||1}));let n=(t=(e=new Date).getMonth()+1,s=e.getDate(),[{mes:2,dia:14,nombre:"Challenge del Amor",emoji:"ðŸ’",bonus:"Historias modo 'CorazÃ³n' +3 puntos"},{mes:4,dia:23,nombre:"DÃ­a del Libro",emoji:"ðŸ“š",bonus:"Crear cualquier historia +5 puntos extra"},{mes:5,dia:15,nombre:"Challenge de la Familia",emoji:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",bonus:"Historias modo 'My Live' +2 puntos"},{mes:10,dia:31,nombre:"Halloween Challenge",emoji:"ðŸŽƒ",bonus:"Historias modo 'Terror' +4 puntos"},{mes:12,dia:25,nombre:"Challenge NavideÃ±o",emoji:"ðŸŽ…",bonus:"Historias modo 'My Live' +6 puntos"}].find(e=>e.mes===t&&s>=e.dia-3&&s<=e.dia+3));n&&!a.esVacacion&&(r=i({nombre:n.nombre||"",descripcion:n.bonus||"",emoji:n.emoji||"",tipo:"challenge"})),V(r)},[]);let ea=d.find(e=>e.nombre===u);return o?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-blue-600 font-semibold",children:"Cargando competencia entre centros..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-green-600 mb-4",children:["ðŸ« ",w("leagueTitle")]}),(0,t.jsx)("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:w("leagueSubtitle")})]}),T&&F&&(0,t.jsx)("div",{role:"status","aria-live":"polite","aria-label":F.nombre||"Evento especial",className:"mb-8 bg-gradient-to-r from-orange-100 to-red-100 border-2 border-orange-300 rounded-xl p-6 shadow-lg animate-pulse",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-orange-800 mb-2 flex items-center justify-center gap-2",children:[F.emoji," Â¡",R," Activas! ",F.emoji]}),(0,t.jsx)("p",{className:"text-lg text-orange-700 mb-4",children:F.descripcion}),(0,t.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4 inline-block",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-orange-900",children:"vacacion"===F.tipo&&F.multiplicador&&(0,t.jsxs)(t.Fragment,{children:["ðŸš€ ",(0,t.jsxs)("strong",{children:[w("multiplicadorActivo"),":"]})," x",F.multiplicador]})}),(0,t.jsx)("p",{className:"text-xs text-orange-900 mt-1",children:"Todas las actividades dan puntos extra durante este perÃ­odo especial"})]})]})}),!T&&F&&F.nombre&&(0,t.jsx)("div",{role:"status","aria-live":"polite","aria-label":F.nombre||"Evento especial",className:"mb-8 bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300 rounded-xl p-6 shadow-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-purple-800 mb-2 flex items-center justify-center gap-2",children:[F.emoji," ",F.nombre," ",F.emoji]}),(0,t.jsxs)("p",{className:"text-purple-700 font-semibold",children:["ðŸŽ ",(0,t.jsx)("strong",{children:"Bonus Especial:"})," ",F.descripcion]}),(0,t.jsx)("p",{className:"text-xs text-purple-700 mt-2",children:w("eventoLimitado")})]})}),(0,t.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Ver datos:"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>N("actual"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"actual"===j?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"ðŸ“… Mes Actual"}),(0,t.jsx)("button",{onClick:()=>N("historico"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"historico"===j?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"ðŸ“Š HistÃ³rico"}),(0,t.jsx)("button",{onClick:()=>N("anual"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"anual"===j?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"ðŸ† Ranking Anual"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:w("filtrarAsignatura")}),(0,t.jsxs)("select",{value:G,onChange:e=>H(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[(0,t.jsxs)("option",{value:"todas",children:["ðŸ“š ",w("todasAsignaturas")]}),(0,t.jsx)("option",{value:"MatemÃ¡ticas",children:"ðŸ”¢ MatemÃ¡ticas"}),(0,t.jsx)("option",{value:"Lenguaje",children:"ðŸ“ Lenguaje"}),(0,t.jsx)("option",{value:"Literatura",children:"ðŸ“– Literatura"}),(0,t.jsx)("option",{value:"Historia",children:"ðŸ›ï¸ Historia"}),(0,t.jsx)("option",{value:"GeografÃ­a",children:"ðŸ—ºï¸ GeografÃ­a"}),(0,t.jsx)("option",{value:"Naturaleza",children:"ðŸŒ¿ Ciencias Naturales"}),(0,t.jsx)("option",{value:"InglÃ©s",children:"ðŸ‡¬ðŸ‡§ InglÃ©s"}),(0,t.jsx)("option",{value:"General",children:"ðŸŽ¯ General"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:w("filtrarCurso")}),(0,t.jsxs)("select",{value:Y,onChange:e=>J(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[(0,t.jsxs)("option",{value:"todos",children:["ðŸ‘¥ ",w("todosCursos")]}),(0,t.jsx)("option",{value:"1Âº Primaria",children:"1ï¸âƒ£ 1Âº Primaria"}),(0,t.jsx)("option",{value:"2Âº Primaria",children:"2ï¸âƒ£ 2Âº Primaria"}),(0,t.jsx)("option",{value:"3Âº Primaria",children:"3ï¸âƒ£ 3Âº Primaria"}),(0,t.jsx)("option",{value:"4Âº Primaria",children:"4ï¸âƒ£ 4Âº Primaria"}),(0,t.jsx)("option",{value:"5Âº Primaria",children:"5ï¸âƒ£ 5Âº Primaria"}),(0,t.jsx)("option",{value:"6Âº Primaria",children:"6ï¸âƒ£ 6Âº Primaria"})]})]}),"historico"===j&&S.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:w("mes")}),(0,t.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:w("seleccionarMes")}),S.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"mt-4 text-center",children:["actual"===j&&(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["ðŸ“… ",(0,t.jsx)("strong",{children:w("mostrar")})," ",w("competenciaMesActual")," (",y.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),")"]}),"historico"===j&&f&&(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["ðŸ“Š ",(0,t.jsx)("strong",{children:w("mostrar")})," ",w("resultadosHistoricos")," ",f]}),"anual"===j&&(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["ðŸ† ",(0,t.jsx)("strong",{children:w("mostrar")})," ",w("rankingAnual")," (aÃ±o ",y.getFullYear(),")"]})]})]}),ea&&(0,t.jsx)("div",{role:"region","aria-labelledby":"mi-centro-title",className:"mb-8 bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 rounded-lg p-6 shadow-lg",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{id:"mi-centro-title",className:"text-xl font-bold text-yellow-800 mb-2 flex items-center","aria-label":w("tuCentro"),children:[K(U(ea.nombre))?(0,t.jsx)("img",{src:`/${U(ea.nombre)}`,alt:`Logo ${ea.nombre}`,className:"w-12 h-12 object-contain rounded-lg border-2 border-yellow-400 mr-3"}):(0,t.jsx)("span",{className:"text-2xl mr-3",children:U(ea.nombre)}),"ðŸ  ",w("tuCentro"),": ",ea.nombre]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-semibold text-yellow-700",children:[w("ranking"),":"]}),(0,t.jsxs)("span",{className:"ml-2 text-lg",children:[ea.medalla," #",ea.ranking]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-semibold text-yellow-700",children:[w("puntuacion"),":"]}),(0,t.jsx)("span",{className:"ml-2 text-lg font-bold",children:ea.puntajeTotal.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-semibold text-yellow-700",children:[w("miembros"),":"]}),(0,t.jsxs)("span",{className:"ml-2",children:[ea.estudiantesActivos,"/",ea.estudiantes]}),(0,t.jsx)("div",{className:"text-xs text-yellow-600",children:"estudiantes + docentes"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-semibold text-yellow-700",children:[w("concursos"),":"]}),(0,t.jsx)("span",{className:"ml-2",children:ea.concursosGanados})]})]})]})})}),ea&&((e=Q(ea.nombre))?(0,t.jsx)("div",{role:"region","aria-labelledby":"premio-centro-title",className:"mb-8 bg-gradient-to-r from-purple-50 to-pink-50 border-l-4 border-purple-400 rounded-lg p-6 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"text-4xl mr-4",children:"ðŸŽ‰"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{id:"premio-centro-title",className:"text-xl font-bold text-purple-800 mb-2",children:w("felicitacionesPremio")}),(0,t.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-4 inline-block",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("span",{className:"text-2xl mr-2",children:e.emoji}),(0,t.jsxs)("span",{className:"font-bold text-purple-800",children:[e.titulo,":"]}),(0,t.jsx)("span",{className:"ml-2 text-purple-700",children:r(e.premio)})]}),(0,t.jsx)("p",{className:"text-sm text-purple-600 mb-2",children:e.descripcion}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-purple-800",children:["ðŸ† ",(0,t.jsxs)("strong",{children:[w("bonusObtenido"),":"]})," +",Number(e.puntosExtra)||0," puntos extra"]}),(0,t.jsxs)("p",{className:"text-sm text-purple-700 bg-purple-100 px-2 py-1 rounded inline-block",children:["ðŸ… ",(0,t.jsxs)("strong",{children:[w("insigniaAutomatica"),":"]})," ",w("premio")]})]})]})]})]})}):null),ea&&E.length>0&&(0===(l=E.filter(e=>e.centro&&e.centro.trim().toLowerCase()===ea.nombre.trim().toLowerCase())).length?null:(0,t.jsxs)("div",{className:"mb-8 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6 shadow-lg",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-green-800 mb-4 flex items-center",children:["ðŸ‘¥ Usuarios de ",ea.nombre," (",l.length," usuarios)"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full bg-white rounded-lg shadow-sm",children:[(0,t.jsx)("thead",{className:"bg-green-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Usuario"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Respuestas Acertadas"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Historias"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Concursos"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Likes"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:l.map((e,s)=>(0,t.jsxs)("tr",{className:s%2==0?"bg-white":"bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,n.renderNick)(e.nick)}),(0,t.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:Number(e.respuestasAcertadas)||0}),(0,t.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:Array.isArray(e.historias)?e.historias.length:Number(e.historiasCreadas)||0}),(0,t.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:Number(e.concursosGanados)||0}),(0,t.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:Number(e.likes)||0})]},e.nick))})]})})]})),"                ",(0,t.jsxs)("div",{className:"mb-8 bg-gradient-to-br from-cyan-50 to-blue-50 border border-cyan-200 rounded-lg p-6 shadow-lg",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-cyan-800 mb-6 flex items-center",role:"region","aria-labelledby":"graficos-title",children:(0,t.jsxs)("span",{id:"graficos-title",children:["ðŸ“Š ",w("grÃ¡ficosProgreso")]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-cyan-700 mb-4",children:"ðŸ† Top 3 Centros - Barras de Progreso"}),(0,t.jsx)("div",{className:"space-y-4",children:d.slice(0,3).map((e,s)=>{let a=Number(d[0]?.puntajeTotal)||1,r=e.puntajeTotal/a*100;return(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.medalla}),(0,t.jsx)("span",{className:"font-bold text-gray-800",children:e.nombre})]}),(0,t.jsxs)("span",{className:"text-lg font-bold text-cyan-600",children:[e.puntajeTotal.toLocaleString()," pts"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,t.jsx)("div",{className:`h-full bg-gradient-to-r ${["from-yellow-400 to-orange-500","from-gray-400 to-gray-600","from-orange-400 to-red-500"][s]} transition-all duration-1000 ease-out rounded-full`,style:{width:`${r}%`}})}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:[r.toFixed(1),"% del mÃ¡ximo"]})]},e.nombre)})})]}),"todas"!==G&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold text-cyan-700 mb-4",children:["ðŸ“š AnÃ¡lisis EspecÃ­fico: ",G.charAt(0).toUpperCase()+G.slice(1)]}),O?(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:["ðŸ” ",(0,t.jsx)("strong",{children:"Vista filtrada por asignatura:"})," Mostrando solo actividad relacionada con ",G]}),(0,t.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"Los puntos de respuestas correctas corresponden Ãºnicamente a preguntas de esta materia especÃ­fica. Las demÃ¡s mÃ©tricas (concursos, historias, interacciones) se muestran proporcionalmente."}),(0,t.jsxs)("div",{className:"mt-3 text-xs text-blue-500 bg-blue-100 rounded p-2",children:["ðŸ’¡ ",(0,t.jsx)("strong",{children:"Tip:"}),' Para ver el rendimiento completo de todos los centros, selecciona "ðŸ“š todas las asignaturas"']})]}):(0,t.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,t.jsxs)("p",{className:"text-sm text-orange-800",children:["ðŸ“Š ",(0,t.jsx)("strong",{children:"Sin datos especÃ­ficos:"})," AÃºn no hay actividad registrada para ",G]}),(0,t.jsx)("p",{className:"text-xs text-orange-600 mt-2",children:"Los rankings mostrados son estimaciones basadas en el rendimiento general de cada centro. Los datos reales aparecerÃ¡n cuando los usuarios respondan preguntas de esta materia."}),(0,t.jsxs)("div",{className:"mt-3 text-xs text-orange-500 bg-orange-100 rounded p-2",children:["ðŸŽ¯ ",(0,t.jsx)("strong",{children:"Para generar datos reales:"})," Los usuarios deben participar en competencias o responder preguntas especÃ­ficas de ",G]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-green-500",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-green-700",children:"Total de Centros"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-800",children:d.length}),(0,t.jsx)("div",{className:"text-xs text-green-600",children:"Participando en la liga"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-blue-500",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-blue-700",children:"PuntuaciÃ³n Total"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-800",children:d.reduce((e,t)=>e+(Number(t.puntajeTotal)||0),0).toLocaleString()}),(0,t.jsx)("div",{className:"text-xs text-blue-600",children:"Puntos acumulados"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-purple-500",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-purple-700",children:"Promedio de Centro"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-800",children:Math.round(d.reduce((e,t)=>e+(Number(t.puntajeTotal)||0),0)/(d.length||1)).toLocaleString()}),(0,t.jsx)("div",{className:"text-xs text-purple-600",children:"Puntos por centro"})]})]})]}),(0,t.jsxs)("div",{className:"mb-8 bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-indigo-800 mb-4 flex items-center",children:"ðŸ“… InformaciÃ³n del Ciclo de Competencia"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-indigo-200",children:[(0,t.jsx)("div",{className:"text-sm text-indigo-600 font-semibold",children:"Mes Actual"}),(0,t.jsx)("div",{className:"text-xl font-bold text-indigo-800",children:new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),(0,t.jsxs)("div",{className:"text-sm text-indigo-600 mt-1",children:["Progreso: ",X().progresoDelMes,"%"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[(0,t.jsx)("div",{className:"text-sm text-orange-600 font-semibold",children:"DÃ­as Restantes"}),(0,t.jsxs)("div",{className:"text-xl font-bold text-orange-800",children:[X().diasRestantes," dÃ­as"]}),(0,t.jsx)("div",{className:"text-sm text-orange-600 mt-1",children:"Hasta prÃ³ximo ranking"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,t.jsx)("div",{className:"text-sm text-green-600 font-semibold",children:"PrÃ³ximo Ciclo"}),(0,t.jsx)("div",{className:"text-xl font-bold text-green-800 text-sm",children:X().nombreProximoMes}),(0,t.jsx)("div",{className:"text-sm text-green-600 mt-1",children:"Nuevo ranking mensual"})]})]}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-indigo-600 bg-white rounded p-3 border border-indigo-200",children:[(0,t.jsx)("strong",{children:"ðŸ“Š Ciclo de Competencia:"})," Los rankings se actualizan automÃ¡ticamente cada mes. Los puntos se acumulan desde el dÃ­a 1 hasta el Ãºltimo dÃ­a del mes, creando una competencia fresca cada 30 dÃ­as.",(0,t.jsx)("strong",{children:" Â¡Cada mes es una nueva oportunidad para que tu centro llegue al primer puesto!"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"ðŸ“Š Sistema de PuntuaciÃ³n"}),(0,t.jsx)("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Â¡Novedad!"})," ðŸŽ‰ Ahora los ",(0,t.jsx)("strong",{children:"docentes tambiÃ©n participan"})," en el ranking de su centro. Â¡Profesores y estudiantes trabajando juntos por el Ã©xito del centro!"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,t.jsx)("div",{className:"font-semibold text-blue-700",children:"Estudiantes Activos"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-800",children:"10 pts"}),(0,t.jsx)("div",{className:"text-xs text-blue-600",children:"por estudiante activo"})]}),(0,t.jsxs)("div",{className:"bg-indigo-50 p-3 rounded",children:[(0,t.jsx)("div",{className:"font-semibold text-indigo-700",children:"Docentes Activos"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-indigo-800",children:"20 pts"}),(0,t.jsx)("div",{className:"text-xs text-indigo-600",children:"por docente activo"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded",children:[(0,t.jsx)("div",{className:"font-semibold text-green-700",children:"Respuestas Correctas"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-800",children:"5 pts"}),(0,t.jsx)("div",{className:"text-xs text-green-600",children:"estudiantes + docentes"})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 p-3 rounded",children:[(0,t.jsx)("div",{className:"font-semibold text-yellow-700",children:"Concursos Ganados"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-800",children:"50 pts"}),(0,t.jsx)("div",{className:"text-xs text-yellow-600",children:"estudiantes + docentes"})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 rounded",children:[(0,t.jsx)("div",{className:"font-semibold text-purple-700",children:"Historias Creadas"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-800",children:"15 pts"}),(0,t.jsx)("div",{className:"text-xs text-purple-600",children:"estudiantes + docentes"})]}),(0,t.jsxs)("div",{className:"bg-pink-50 p-3 rounded",children:[(0,t.jsx)("div",{className:"font-semibold text-pink-700",children:"Interacciones"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-pink-800",children:"2 pts"}),(0,t.jsx)("div",{className:"text-xs text-pink-600",children:"likes, amigos, comentarios"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 p-6 text-white",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold",children:["ðŸ† Ranking de Centros Educativos","todas"!==G&&(0,t.jsxs)("span",{className:"text-lg font-normal opacity-90 ml-2",children:["- ",G.charAt(0).toUpperCase()+G.slice(1),!O&&(0,t.jsx)("span",{className:"text-sm",children:" (Estimado)"})]}),"todos"!==Y&&(0,t.jsxs)("span",{className:"text-lg font-normal opacity-90 ml-2",children:["- ",Y]})]}),(0,t.jsx)("p",{className:"opacity-90",children:"todas"===G&&"todos"===Y?`Competencia del mes de ${new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})}`:"todas"!==G&&"todos"===Y?O?`Vista espec\xedfica de ${G} - ${new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})}`:`Estimaciones para ${G} (sin datos espec\xedficos a\xfan) - ${new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})}`:"todas"===G&&"todos"!==Y?`Vista espec\xedfica de ${Y} - ${new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})}`:O?`Vista espec\xedfica de ${G} (${Y}) - ${new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})}`:`Estimaciones para ${G} (${Y}) - ${new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})}`}),(0,t.jsx)("div",{className:"mt-2 text-sm opacity-80",children:"ðŸ“… Se actualiza automÃ¡ticamente cada mes | ðŸ”„ Datos en tiempo real"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ranking"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Centro"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PuntuaciÃ³n"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miembros"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activos"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Respuestas"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concursos"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Historias"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((e,s)=>(0,t.jsxs)("tr",{className:`hover:bg-gray-50 ${e.nombre===u?"bg-yellow-50 border-l-4 border-yellow-400":""}`,children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"text-2xl mr-2",children:e.medalla}),(0,t.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["#",e.ranking]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[K(U(e.nombre))?(0,t.jsx)("img",{src:`/${U(e.nombre)}`,alt:`Logo ${e.nombre}`,className:"w-10 h-10 object-contain rounded-lg border border-gray-300 mr-3"}):(0,t.jsx)("span",{className:"text-2xl mr-3",children:U(e.nombre)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.nombre}),e.nombre===u&&(0,t.jsx)("div",{className:"text-sm text-yellow-600",children:"ðŸ‘ˆ Tu centro"})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.puntajeTotal.toLocaleString()})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.estudiantes}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:e.estudiantesActivos})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.respuestasCorrectas}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.concursosGanados}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.historiasCreadas})]},e.nombre))})]})}),0===d.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-gray-400 text-xl mb-4",children:"ðŸ“Š"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No hay datos de centros disponibles todavÃ­a."}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Los datos aparecerÃ¡n cuando haya actividad de estudiantes."})]})]}),(0,t.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-bold text-blue-800 mb-2",children:"ðŸŽ¯ Â¿CÃ³mo Participar?"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Estudiantes y Docentes"})," pueden participar"]}),(0,t.jsx)("li",{children:"â€¢ Mantente activo en la plataforma"}),(0,t.jsx)("li",{children:"â€¢ Responde preguntas correctamente"}),(0,t.jsx)("li",{children:"â€¢ Participa en concursos"}),(0,t.jsx)("li",{children:"â€¢ Crea historias interesantes"}),(0,t.jsx)("li",{children:"â€¢ InteractÃºa con compaÃ±eros y profesores"})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"font-bold text-green-800 mb-2",children:["ðŸ† ",w("premiosDelMes")]}),k.length>0?(0,t.jsxs)("div",{className:"space-y-2",children:[k.slice(0,10).map((e,s)=>(0,t.jsxs)("div",{className:`flex items-center justify-between p-2 rounded ${e.centro===u?"bg-yellow-100 border border-yellow-300":"bg-white"}`,children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"text-lg mr-2",children:e.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium text-green-800",children:[e.titulo,":"]}),(0,t.jsx)("span",{className:"text-green-700 ml-1",children:e.premio}),e.centro===u&&(0,t.jsx)("span",{className:"text-yellow-600 font-bold ml-2",children:"ðŸŽ‰ Â¡Tu centro!"})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-green-800",children:e.centro}),(0,t.jsxs)("div",{className:"text-xs text-green-600",children:["+",e.puntosExtra," pts"]}),(0,t.jsx)("div",{className:"text-xs text-green-500",children:"ðŸ… Insignia asignada"})]})]},s)),k.length>10&&(0,t.jsxs)("div",{className:"text-center text-sm text-green-600 mt-2",children:["Y ",k.length-10," premios mÃ¡s de participaciÃ³n..."]})]}):(0,t.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,t.jsx)("li",{children:"ðŸ¥‡ 1er lugar: Trofeo digital especial"}),(0,t.jsx)("li",{children:"ðŸ¥ˆ 2do lugar: Certificado de honor"}),(0,t.jsx)("li",{children:"ðŸ¥‰ 3er lugar: MenciÃ³n especial"}),(0,t.jsx)("li",{children:"ðŸ† Top 10: Badge exclusivo"}),(0,t.jsx)("li",{children:"ðŸ“š ParticipaciÃ³n: Reconocimiento"})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-bold text-green-800 mb-2",children:"âœ… CaracterÃ­sticas Implementadas"}),(0,t.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,t.jsx)("li",{children:"âœ… Competencias por asignatura (selector activo)"}),(0,t.jsx)("li",{children:"âœ… GrÃ¡ficos de progreso (rankings visuales)"}),(0,t.jsx)("li",{children:"âœ… Modo vacaciones (detecciÃ³n automÃ¡tica)"}),(0,t.jsx)("li",{children:"âœ… Challenges especiales (eventos temÃ¡ticos)"}),(0,t.jsx)("li",{children:"âœ… Sistema anti-trampa (cursos automÃ¡ticos)"}),(0,t.jsx)("li",{children:"âœ… Rankings histÃ³ricos (persistencia completa)"})]})]})]}),"anual"===j&&x.length>0&&(0,t.jsxs)("div",{className:"mt-8 bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-6 shadow-lg",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-amber-800 mb-6 flex items-center",children:["ðŸ† Ranking Acumulativo Anual ",y.getFullYear()]}),(0,t.jsx)("div",{className:"grid gap-4",children:x.slice(0,10).map((e,s)=>(0,t.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${0===s?"bg-gradient-to-r from-yellow-100 to-amber-100 border-yellow-400":1===s?"bg-gradient-to-r from-gray-100 to-slate-100 border-gray-400":2===s?"bg-gradient-to-r from-orange-100 to-amber-100 border-orange-400":"bg-white border-gray-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("span",{className:`text-2xl font-bold ${0===s?"text-yellow-600":1===s?"text-gray-600":2===s?"text-orange-600":"text-gray-800"}`,children:["#",s+1]}),K(U(e.nombre))?(0,t.jsx)("img",{src:`/${U(e.nombre)}`,alt:`Logo ${e.nombre}`,className:"w-12 h-12 object-contain rounded-lg border border-gray-300"}):(0,t.jsx)("span",{className:"text-3xl",children:U(e.nombre)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-gray-800",children:e.nombre}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["PuntuaciÃ³n acumulativa: ",(0,t.jsx)("span",{className:"font-semibold",children:e.puntajeTotal.toLocaleString()})]})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("span",{className:`text-3xl ${0===s?"ðŸ¥‡":1===s?"ðŸ¥ˆ":2===s?"ðŸ¥‰":"ðŸ…"}`})})]},e.nombre))})]}),L.length>0&&(0,t.jsxs)("div",{className:"mt-8 bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg p-6 shadow-lg",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-indigo-800 mb-6 flex items-center",children:"ðŸ“… Historial de Ganadores Mensuales"}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:L.slice(0,12).map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg border border-indigo-200 p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"flex justify-center mb-3",children:K(U(e.centro||""))?(0,t.jsx)("img",{src:`/${U(e.centro||"")}`,alt:`Logo ${e.centro||"Centro"}`,className:"w-16 h-16 object-contain rounded-lg border-2 border-yellow-400"}):(0,t.jsx)("span",{className:"text-4xl",children:U(e.centro||"")})}),(0,t.jsx)("h4",{className:"font-bold text-gray-800 mb-1",children:e.centro||"Centro Desconocido"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[e.mes," ",e.aÃ±o]}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-indigo-600",children:[(e.puntaje||0).toLocaleString()," pts"]}),(0,t.jsx)("div",{className:"text-2xl mt-2",children:"ðŸ†"})]})},`${e.mes}-${e.aÃ±o}`))}),L.length>12&&(0,t.jsx)("div",{className:"text-center mt-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Y ",L.length-12," ganadores mÃ¡s en el historial..."]})})]})]})})}e.s(["default",()=>l],35924)}]);